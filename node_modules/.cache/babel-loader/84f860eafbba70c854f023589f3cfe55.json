{"ast":null,"code":"var _watch;\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport { Vue } from '../../vue';\nimport { NAME_FORM_FILE } from '../../constants/components';\nimport { HAS_PROMISE_SUPPORT } from '../../constants/env';\nimport { EVENT_NAME_CHANGE, EVENT_OPTIONS_PASSIVE } from '../../constants/events';\nimport { PROP_TYPE_ARRAY, PROP_TYPE_BOOLEAN, PROP_TYPE_FUNCTION, PROP_TYPE_STRING } from '../../constants/props';\nimport { SLOT_NAME_DROP_PLACEHOLDER, SLOT_NAME_FILE_NAME, SLOT_NAME_PLACEHOLDER } from '../../constants/slots';\nimport { RX_EXTENSION, RX_STAR } from '../../constants/regex';\nimport { File } from '../../constants/safe-types';\nimport { from as arrayFrom, flatten, flattenDeep } from '../../utils/array';\nimport { cloneDeep } from '../../utils/clone-deep';\nimport { closest } from '../../utils/dom';\nimport { eventOn, eventOff, stopEvent } from '../../utils/events';\nimport { identity } from '../../utils/identity';\nimport { isArray, isFile, isFunction, isNull, isUndefinedOrNull } from '../../utils/inspect';\nimport { looseEqual } from '../../utils/loose-equal';\nimport { makeModelMixin } from '../../utils/model';\nimport { sortKeys } from '../../utils/object';\nimport { hasPropFunction, makeProp, makePropsConfigurable } from '../../utils/props';\nimport { escapeRegExp } from '../../utils/string';\nimport { warn } from '../../utils/warn';\nimport { attrsMixin } from '../../mixins/attrs';\nimport { formControlMixin, props as formControlProps } from '../../mixins/form-control';\nimport { formCustomMixin, props as formCustomProps } from '../../mixins/form-custom';\nimport { formStateMixin, props as formStateProps } from '../../mixins/form-state';\nimport { idMixin, props as idProps } from '../../mixins/id';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot';\nimport { props as formSizeProps } from '../../mixins/form-size'; // --- Constants ---\n\nvar _makeModelMixin = makeModelMixin('value', {\n  type: [PROP_TYPE_ARRAY, File],\n  defaultValue: null,\n  validator: function validator(value) {\n    /* istanbul ignore next */\n    if (value === '') {\n      warn(VALUE_EMPTY_DEPRECATED_MSG, NAME_FORM_FILE);\n      return true;\n    }\n\n    return isUndefinedOrNull(value) || isValidValue(value);\n  }\n}),\n    modelMixin = _makeModelMixin.mixin,\n    modelProps = _makeModelMixin.props,\n    MODEL_PROP_NAME = _makeModelMixin.prop,\n    MODEL_EVENT_NAME = _makeModelMixin.event;\n\nvar VALUE_EMPTY_DEPRECATED_MSG = 'Setting \"value\"/\"v-model\" to an empty string for reset is deprecated. Set to \"null\" instead.'; // --- Helper methods ---\n\nvar isValidValue = function isValidValue(value) {\n  return isFile(value) || isArray(value) && value.every(function (v) {\n    return isValidValue(v);\n  });\n}; // Helper method to \"safely\" get the entry from a data-transfer item\n\n/* istanbul ignore next: not supported in JSDOM */\n\n\nvar getDataTransferItemEntry = function getDataTransferItemEntry(item) {\n  return isFunction(item.getAsEntry) ? item.getAsEntry() : isFunction(item.webkitGetAsEntry) ? item.webkitGetAsEntry() : null;\n}; // Drop handler function to get all files\n\n/* istanbul ignore next: not supported in JSDOM */\n\n\nvar getAllFileEntries = function getAllFileEntries(dataTransferItemList) {\n  var traverseDirectories = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  return Promise.all(arrayFrom(dataTransferItemList).filter(function (item) {\n    return item.kind === 'file';\n  }).map(function (item) {\n    var entry = getDataTransferItemEntry(item);\n\n    if (entry) {\n      if (entry.isDirectory && traverseDirectories) {\n        return getAllFileEntriesInDirectory(entry.createReader(), \"\".concat(entry.name, \"/\"));\n      } else if (entry.isFile) {\n        return new Promise(function (resolve) {\n          entry.file(function (file) {\n            file.$path = '';\n            resolve(file);\n          });\n        });\n      }\n    }\n\n    return null;\n  }).filter(identity));\n}; // Get all the file entries (recursive) in a directory\n\n/* istanbul ignore next: not supported in JSDOM */\n\n\nvar getAllFileEntriesInDirectory = function getAllFileEntriesInDirectory(directoryReader) {\n  var path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  return new Promise(function (resolve) {\n    var entryPromises = [];\n\n    var readDirectoryEntries = function readDirectoryEntries() {\n      directoryReader.readEntries(function (entries) {\n        if (entries.length === 0) {\n          resolve(Promise.all(entryPromises).then(function (entries) {\n            return flatten(entries);\n          }));\n        } else {\n          entryPromises.push(Promise.all(entries.map(function (entry) {\n            if (entry) {\n              if (entry.isDirectory) {\n                return getAllFileEntriesInDirectory(entry.createReader(), \"\".concat(path).concat(entry.name, \"/\"));\n              } else if (entry.isFile) {\n                return new Promise(function (resolve) {\n                  entry.file(function (file) {\n                    file.$path = \"\".concat(path).concat(file.name);\n                    resolve(file);\n                  });\n                });\n              }\n            }\n\n            return null;\n          }).filter(identity)));\n          readDirectoryEntries();\n        }\n      });\n    };\n\n    readDirectoryEntries();\n  });\n}; // --- Props ---\n\n\nvar props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, idProps), modelProps), formControlProps), formCustomProps), formStateProps), formSizeProps), {}, {\n  accept: makeProp(PROP_TYPE_STRING, ''),\n  browseText: makeProp(PROP_TYPE_STRING, 'Browse'),\n  // Instruct input to capture from camera\n  capture: makeProp(PROP_TYPE_BOOLEAN, false),\n  directory: makeProp(PROP_TYPE_BOOLEAN, false),\n  dropPlaceholder: makeProp(PROP_TYPE_STRING, 'Drop files here'),\n  fileNameFormatter: makeProp(PROP_TYPE_FUNCTION),\n  multiple: makeProp(PROP_TYPE_BOOLEAN, false),\n  noDrop: makeProp(PROP_TYPE_BOOLEAN, false),\n  noDropPlaceholder: makeProp(PROP_TYPE_STRING, 'Not allowed'),\n  // TODO:\n  //   Should we deprecate this and only support flat file structures?\n  //   Nested file structures are only supported when files are dropped\n  //   A Chromium \"bug\" prevents `webkitEntries` from being populated\n  //   on the file input's `change` event and is marked as \"WontFix\"\n  //   Mozilla implemented the behavior the same way as Chromium\n  //   See: https://bugs.chromium.org/p/chromium/issues/detail?id=138987\n  //   See: https://bugzilla.mozilla.org/show_bug.cgi?id=1326031\n  noTraverse: makeProp(PROP_TYPE_BOOLEAN, false),\n  placeholder: makeProp(PROP_TYPE_STRING, 'No file chosen')\n})), NAME_FORM_FILE); // --- Main component ---\n// @vue/component\n\nexport var BFormFile = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM_FILE,\n  mixins: [attrsMixin, idMixin, modelMixin, normalizeSlotMixin, formControlMixin, formStateMixin, formCustomMixin, normalizeSlotMixin],\n  inheritAttrs: false,\n  props: props,\n  data: function data() {\n    return {\n      files: [],\n      dragging: false,\n      // IE 11 doesn't respect setting `event.dataTransfer.dropEffect`,\n      // so we handle it ourselves as well\n      // https://stackoverflow.com/a/46915971/2744776\n      dropAllowed: !this.noDrop,\n      hasFocus: false\n    };\n  },\n  computed: {\n    // Convert `accept` to an array of `[{ RegExpr, isMime }, ...]`\n    computedAccept: function computedAccept() {\n      var accept = this.accept;\n      accept = (accept || '').trim().split(/[,\\s]+/).filter(identity); // Allow any file type/extension\n\n      if (accept.length === 0) {\n        return null;\n      }\n\n      return accept.map(function (extOrType) {\n        var prop = 'name';\n        var startMatch = '^';\n        var endMatch = '$';\n\n        if (RX_EXTENSION.test(extOrType)) {\n          // File extension /\\.ext$/\n          startMatch = '';\n        } else {\n          // MIME type /^mime\\/.+$/ or /^mime\\/type$/\n          prop = 'type';\n\n          if (RX_STAR.test(extOrType)) {\n            endMatch = '.+$'; // Remove trailing `*`\n\n            extOrType = extOrType.slice(0, -1);\n          }\n        } // Escape all RegExp special chars\n\n\n        extOrType = escapeRegExp(extOrType);\n        var rx = new RegExp(\"\".concat(startMatch).concat(extOrType).concat(endMatch));\n        return {\n          rx: rx,\n          prop: prop\n        };\n      });\n    },\n    computedCapture: function computedCapture() {\n      var capture = this.capture;\n      return capture === true || capture === '' ? true : capture || null;\n    },\n    computedAttrs: function computedAttrs() {\n      var name = this.name,\n          disabled = this.disabled,\n          required = this.required,\n          form = this.form,\n          computedCapture = this.computedCapture,\n          accept = this.accept,\n          multiple = this.multiple,\n          directory = this.directory;\n      return _objectSpread(_objectSpread({}, this.bvAttrs), {}, {\n        type: 'file',\n        id: this.safeId(),\n        name: name,\n        disabled: disabled,\n        required: required,\n        form: form || null,\n        capture: computedCapture,\n        accept: accept || null,\n        multiple: multiple,\n        directory: directory,\n        webkitdirectory: directory,\n        'aria-required': required ? 'true' : null\n      });\n    },\n    computedFileNameFormatter: function computedFileNameFormatter() {\n      var fileNameFormatter = this.fileNameFormatter;\n      return hasPropFunction(fileNameFormatter) ? fileNameFormatter : this.defaultFileNameFormatter;\n    },\n    clonedFiles: function clonedFiles() {\n      return cloneDeep(this.files);\n    },\n    flattenedFiles: function flattenedFiles() {\n      return flattenDeep(this.files);\n    },\n    fileNames: function fileNames() {\n      return this.flattenedFiles.map(function (file) {\n        return file.name;\n      });\n    },\n    labelContent: function labelContent() {\n      // Draging active\n\n      /* istanbul ignore next: used by drag/drop which can't be tested easily */\n      if (this.dragging && !this.noDrop) {\n        return (// TODO: Add additional scope with file count, and other not-allowed reasons\n          this.normalizeSlot(SLOT_NAME_DROP_PLACEHOLDER, {\n            allowed: this.dropAllowed\n          }) || (this.dropAllowed ? this.dropPlaceholder : this.$createElement('span', {\n            staticClass: 'text-danger'\n          }, this.noDropPlaceholder))\n        );\n      } // No file chosen\n\n\n      if (this.files.length === 0) {\n        return this.normalizeSlot(SLOT_NAME_PLACEHOLDER) || this.placeholder;\n      }\n\n      var flattenedFiles = this.flattenedFiles,\n          clonedFiles = this.clonedFiles,\n          fileNames = this.fileNames,\n          computedFileNameFormatter = this.computedFileNameFormatter; // There is a slot for formatting the files/names\n\n      if (this.hasNormalizedSlot(SLOT_NAME_FILE_NAME)) {\n        return this.normalizeSlot(SLOT_NAME_FILE_NAME, {\n          files: flattenedFiles,\n          filesTraversed: clonedFiles,\n          names: fileNames\n        });\n      }\n\n      return computedFileNameFormatter(flattenedFiles, clonedFiles, fileNames);\n    }\n  },\n  watch: (_watch = {}, _defineProperty(_watch, MODEL_PROP_NAME, function (newValue) {\n    if (!newValue || isArray(newValue) && newValue.length === 0) {\n      this.reset();\n    }\n  }), _defineProperty(_watch, \"files\", function files(newValue, oldValue) {\n    if (!looseEqual(newValue, oldValue)) {\n      var multiple = this.multiple,\n          noTraverse = this.noTraverse;\n      var files = !multiple || noTraverse ? flattenDeep(newValue) : newValue;\n      this.$emit(MODEL_EVENT_NAME, multiple ? files : files[0] || null);\n    }\n  }), _watch),\n  created: function created() {\n    // Create private non-reactive props\n    this.$_form = null;\n  },\n  mounted: function mounted() {\n    // Listen for form reset events, to reset the file input\n    var $form = closest('form', this.$el);\n\n    if ($form) {\n      eventOn($form, 'reset', this.reset, EVENT_OPTIONS_PASSIVE);\n      this.$_form = $form;\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    var $form = this.$_form;\n\n    if ($form) {\n      eventOff($form, 'reset', this.reset, EVENT_OPTIONS_PASSIVE);\n    }\n  },\n  methods: {\n    isFileValid: function isFileValid(file) {\n      if (!file) {\n        return false;\n      }\n\n      var accept = this.computedAccept;\n      return accept ? accept.some(function (a) {\n        return a.rx.test(file[a.prop]);\n      }) : true;\n    },\n    isFilesArrayValid: function isFilesArrayValid(files) {\n      var _this = this;\n\n      return isArray(files) ? files.every(function (file) {\n        return _this.isFileValid(file);\n      }) : this.isFileValid(files);\n    },\n    defaultFileNameFormatter: function defaultFileNameFormatter(flattenedFiles, clonedFiles, fileNames) {\n      return fileNames.join(', ');\n    },\n    setFiles: function setFiles(files) {\n      // Reset the dragging flags\n      this.dropAllowed = !this.noDrop;\n      this.dragging = false; // Set the selected files\n\n      this.files = this.multiple ? this.directory ? files : flattenDeep(files) : flattenDeep(files).slice(0, 1);\n    },\n\n    /* istanbul ignore next: used by Drag/Drop */\n    setInputFiles: function setInputFiles(files) {\n      // Try an set the file input files array so that `required`\n      // constraint works for dropped files (will fail in IE11 though)\n      // To be used only when dropping files\n      try {\n        // Firefox < 62 workaround exploiting https://bugzilla.mozilla.org/show_bug.cgi?id=1422655\n        var dataTransfer = new ClipboardEvent('').clipboardData || new DataTransfer(); // Add flattened files to temp `dataTransfer` object to get a true `FileList` array\n\n        flattenDeep(cloneDeep(files)).forEach(function (file) {\n          // Make sure to remove the custom `$path` attribute\n          delete file.$path;\n          dataTransfer.items.add(file);\n        });\n        this.$refs.input.files = dataTransfer.files;\n      } catch (_unused) {}\n    },\n    reset: function reset() {\n      // IE 11 doesn't support setting `$input.value` to `''` or `null`\n      // So we use this little extra hack to reset the value, just in case\n      // This also appears to work on modern browsers as well\n      // Wrapped in try in case IE 11 or mobile Safari crap out\n      try {\n        var $input = this.$refs.input;\n        $input.value = '';\n        $input.type = '';\n        $input.type = 'file';\n      } catch (_unused2) {}\n\n      this.files = [];\n    },\n    handleFiles: function handleFiles(files) {\n      var isDrop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (isDrop) {\n        // When dropped, make sure to filter files with the internal `accept` logic\n        var filteredFiles = files.filter(this.isFilesArrayValid); // Only update files when we have any after filtering\n\n        if (filteredFiles.length > 0) {\n          this.setFiles(filteredFiles); // Try an set the file input's files array so that `required`\n          // constraint works for dropped files (will fail in IE 11 though)\n\n          this.setInputFiles(filteredFiles);\n        }\n      } else {\n        // We always update the files from the `change` event\n        this.setFiles(files);\n      }\n    },\n    focusHandler: function focusHandler(event) {\n      // Bootstrap v4 doesn't have focus styling for custom file input\n      // Firefox has a `[type=file]:focus ~ sibling` selector issue,\n      // so we add a `focus` class to get around these bugs\n      if (this.plain || event.type === 'focusout') {\n        this.hasFocus = false;\n      } else {\n        // Add focus styling for custom file input\n        this.hasFocus = true;\n      }\n    },\n    onChange: function onChange(event) {\n      var _this2 = this;\n\n      var type = event.type,\n          target = event.target,\n          _event$dataTransfer = event.dataTransfer,\n          dataTransfer = _event$dataTransfer === void 0 ? {} : _event$dataTransfer;\n      var isDrop = type === 'drop'; // Always emit original event\n\n      this.$emit(EVENT_NAME_CHANGE, event);\n      var items = arrayFrom(dataTransfer.items || []);\n\n      if (HAS_PROMISE_SUPPORT && items.length > 0 && !isNull(getDataTransferItemEntry(items[0]))) {\n        // Drop handling for modern browsers\n        // Supports nested directory structures in `directory` mode\n\n        /* istanbul ignore next: not supported in JSDOM */\n        getAllFileEntries(items, this.directory).then(function (files) {\n          return _this2.handleFiles(files, isDrop);\n        });\n      } else {\n        // Standard file input handling (native file input change event),\n        // or fallback drop mode (IE 11 / Opera) which don't support `directory` mode\n        var files = arrayFrom(target.files || dataTransfer.files || []).map(function (file) {\n          // Add custom `$path` property to each file (to be consistent with drop mode)\n          file.$path = file.webkitRelativePath || '';\n          return file;\n        });\n        this.handleFiles(files, isDrop);\n      }\n    },\n    onDragenter: function onDragenter(event) {\n      stopEvent(event);\n      this.dragging = true;\n      var _event$dataTransfer2 = event.dataTransfer,\n          dataTransfer = _event$dataTransfer2 === void 0 ? {} : _event$dataTransfer2; // Early exit when the input or dropping is disabled\n\n      if (this.noDrop || this.disabled || !this.dropAllowed) {\n        // Show deny feedback\n\n        /* istanbul ignore next: not supported in JSDOM */\n        dataTransfer.dropEffect = 'none';\n        this.dropAllowed = false;\n        return;\n      }\n      /* istanbul ignore next: not supported in JSDOM */\n\n\n      dataTransfer.dropEffect = 'copy';\n    },\n    // Note this event fires repeatedly while the mouse is over the dropzone at\n    // intervals in the milliseconds, so avoid doing much processing in here\n    onDragover: function onDragover(event) {\n      stopEvent(event);\n      this.dragging = true;\n      var _event$dataTransfer3 = event.dataTransfer,\n          dataTransfer = _event$dataTransfer3 === void 0 ? {} : _event$dataTransfer3; // Early exit when the input or dropping is disabled\n\n      if (this.noDrop || this.disabled || !this.dropAllowed) {\n        // Show deny feedback\n\n        /* istanbul ignore next: not supported in JSDOM */\n        dataTransfer.dropEffect = 'none';\n        this.dropAllowed = false;\n        return;\n      }\n      /* istanbul ignore next: not supported in JSDOM */\n\n\n      dataTransfer.dropEffect = 'copy';\n    },\n    onDragleave: function onDragleave(event) {\n      var _this3 = this;\n\n      stopEvent(event);\n      this.$nextTick(function () {\n        _this3.dragging = false; // Reset `dropAllowed` to default\n\n        _this3.dropAllowed = !_this3.noDrop;\n      });\n    },\n    // Triggered by a file drop onto drop target\n    onDrop: function onDrop(event) {\n      var _this4 = this;\n\n      stopEvent(event);\n      this.dragging = false; // Early exit when the input or dropping is disabled\n\n      if (this.noDrop || this.disabled || !this.dropAllowed) {\n        this.$nextTick(function () {\n          // Reset `dropAllowed` to default\n          _this4.dropAllowed = !_this4.noDrop;\n        });\n        return;\n      }\n\n      this.onChange(event);\n    }\n  },\n  render: function render(h) {\n    var custom = this.custom,\n        plain = this.plain,\n        size = this.size,\n        dragging = this.dragging,\n        stateClass = this.stateClass,\n        bvAttrs = this.bvAttrs; // Form Input\n\n    var $input = h('input', {\n      class: [{\n        'form-control-file': plain,\n        'custom-file-input': custom,\n        focus: custom && this.hasFocus\n      }, stateClass],\n      // With IE 11, the input gets in the \"way\" of the drop events,\n      // so we move it out of the way by putting it behind the label\n      // Bootstrap v4 has it in front\n      style: custom ? {\n        zIndex: -5\n      } : {},\n      attrs: this.computedAttrs,\n      on: {\n        change: this.onChange,\n        focusin: this.focusHandler,\n        focusout: this.focusHandler,\n        reset: this.reset\n      },\n      ref: 'input'\n    });\n\n    if (plain) {\n      return $input;\n    } // Overlay label\n\n\n    var $label = h('label', {\n      staticClass: 'custom-file-label',\n      class: {\n        dragging: dragging\n      },\n      attrs: {\n        for: this.safeId(),\n        // This goes away in Bootstrap v5\n        'data-browse': this.browseText || null\n      }\n    }, [h('span', {\n      staticClass: 'd-block form-file-text',\n      // `pointer-events: none` is used to make sure\n      // the drag events fire only on the label\n      style: {\n        pointerEvents: 'none'\n      }\n    }, [this.labelContent])]); // Return rendered custom file input\n\n    return h('div', {\n      staticClass: 'custom-file b-form-file',\n      class: [_defineProperty({}, \"b-custom-control-\".concat(size), size), stateClass, bvAttrs.class],\n      style: bvAttrs.style,\n      attrs: {\n        id: this.safeId('_BV_file_outer_')\n      },\n      on: {\n        dragenter: this.onDragenter,\n        dragover: this.onDragover,\n        dragleave: this.onDragleave,\n        drop: this.onDrop\n      }\n    }, [$input, $label]);\n  }\n});","map":{"version":3,"names":["_watch","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","Vue","NAME_FORM_FILE","HAS_PROMISE_SUPPORT","EVENT_NAME_CHANGE","EVENT_OPTIONS_PASSIVE","PROP_TYPE_ARRAY","PROP_TYPE_BOOLEAN","PROP_TYPE_FUNCTION","PROP_TYPE_STRING","SLOT_NAME_DROP_PLACEHOLDER","SLOT_NAME_FILE_NAME","SLOT_NAME_PLACEHOLDER","RX_EXTENSION","RX_STAR","File","from","arrayFrom","flatten","flattenDeep","cloneDeep","closest","eventOn","eventOff","stopEvent","identity","isArray","isFile","isFunction","isNull","isUndefinedOrNull","looseEqual","makeModelMixin","sortKeys","hasPropFunction","makeProp","makePropsConfigurable","escapeRegExp","warn","attrsMixin","formControlMixin","props","formControlProps","formCustomMixin","formCustomProps","formStateMixin","formStateProps","idMixin","idProps","normalizeSlotMixin","formSizeProps","_makeModelMixin","type","defaultValue","validator","VALUE_EMPTY_DEPRECATED_MSG","isValidValue","modelMixin","mixin","modelProps","MODEL_PROP_NAME","prop","MODEL_EVENT_NAME","event","every","v","getDataTransferItemEntry","item","getAsEntry","webkitGetAsEntry","getAllFileEntries","dataTransferItemList","traverseDirectories","undefined","Promise","all","kind","map","entry","isDirectory","getAllFileEntriesInDirectory","createReader","concat","name","resolve","file","$path","directoryReader","path","entryPromises","readDirectoryEntries","readEntries","entries","then","accept","browseText","capture","directory","dropPlaceholder","fileNameFormatter","multiple","noDrop","noDropPlaceholder","noTraverse","placeholder","BFormFile","extend","mixins","inheritAttrs","data","files","dragging","dropAllowed","hasFocus","computed","computedAccept","trim","split","extOrType","startMatch","endMatch","test","slice","rx","RegExp","computedCapture","computedAttrs","disabled","required","form","bvAttrs","id","safeId","webkitdirectory","computedFileNameFormatter","defaultFileNameFormatter","clonedFiles","flattenedFiles","fileNames","labelContent","normalizeSlot","allowed","$createElement","staticClass","hasNormalizedSlot","filesTraversed","names","watch","newValue","reset","oldValue","$emit","created","$_form","mounted","$form","$el","beforeDestroy","methods","isFileValid","some","a","isFilesArrayValid","_this","join","setFiles","setInputFiles","dataTransfer","ClipboardEvent","clipboardData","DataTransfer","items","add","$refs","input","_unused","$input","_unused2","handleFiles","isDrop","filteredFiles","focusHandler","plain","onChange","_this2","_event$dataTransfer","webkitRelativePath","onDragenter","_event$dataTransfer2","dropEffect","onDragover","_event$dataTransfer3","onDragleave","_this3","$nextTick","onDrop","_this4","render","h","custom","size","stateClass","class","focus","style","zIndex","attrs","on","change","focusin","focusout","ref","$label","for","pointerEvents","dragenter","dragover","dragleave","drop"],"sources":["C:/Users/rayss/dev-fullstack-i/node_modules/bootstrap-vue/esm/components/form-file/form-file.js"],"sourcesContent":["var _watch;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_FORM_FILE } from '../../constants/components';\nimport { HAS_PROMISE_SUPPORT } from '../../constants/env';\nimport { EVENT_NAME_CHANGE, EVENT_OPTIONS_PASSIVE } from '../../constants/events';\nimport { PROP_TYPE_ARRAY, PROP_TYPE_BOOLEAN, PROP_TYPE_FUNCTION, PROP_TYPE_STRING } from '../../constants/props';\nimport { SLOT_NAME_DROP_PLACEHOLDER, SLOT_NAME_FILE_NAME, SLOT_NAME_PLACEHOLDER } from '../../constants/slots';\nimport { RX_EXTENSION, RX_STAR } from '../../constants/regex';\nimport { File } from '../../constants/safe-types';\nimport { from as arrayFrom, flatten, flattenDeep } from '../../utils/array';\nimport { cloneDeep } from '../../utils/clone-deep';\nimport { closest } from '../../utils/dom';\nimport { eventOn, eventOff, stopEvent } from '../../utils/events';\nimport { identity } from '../../utils/identity';\nimport { isArray, isFile, isFunction, isNull, isUndefinedOrNull } from '../../utils/inspect';\nimport { looseEqual } from '../../utils/loose-equal';\nimport { makeModelMixin } from '../../utils/model';\nimport { sortKeys } from '../../utils/object';\nimport { hasPropFunction, makeProp, makePropsConfigurable } from '../../utils/props';\nimport { escapeRegExp } from '../../utils/string';\nimport { warn } from '../../utils/warn';\nimport { attrsMixin } from '../../mixins/attrs';\nimport { formControlMixin, props as formControlProps } from '../../mixins/form-control';\nimport { formCustomMixin, props as formCustomProps } from '../../mixins/form-custom';\nimport { formStateMixin, props as formStateProps } from '../../mixins/form-state';\nimport { idMixin, props as idProps } from '../../mixins/id';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot';\nimport { props as formSizeProps } from '../../mixins/form-size'; // --- Constants ---\n\nvar _makeModelMixin = makeModelMixin('value', {\n  type: [PROP_TYPE_ARRAY, File],\n  defaultValue: null,\n  validator: function validator(value) {\n    /* istanbul ignore next */\n    if (value === '') {\n      warn(VALUE_EMPTY_DEPRECATED_MSG, NAME_FORM_FILE);\n      return true;\n    }\n\n    return isUndefinedOrNull(value) || isValidValue(value);\n  }\n}),\n    modelMixin = _makeModelMixin.mixin,\n    modelProps = _makeModelMixin.props,\n    MODEL_PROP_NAME = _makeModelMixin.prop,\n    MODEL_EVENT_NAME = _makeModelMixin.event;\n\nvar VALUE_EMPTY_DEPRECATED_MSG = 'Setting \"value\"/\"v-model\" to an empty string for reset is deprecated. Set to \"null\" instead.'; // --- Helper methods ---\n\nvar isValidValue = function isValidValue(value) {\n  return isFile(value) || isArray(value) && value.every(function (v) {\n    return isValidValue(v);\n  });\n}; // Helper method to \"safely\" get the entry from a data-transfer item\n\n/* istanbul ignore next: not supported in JSDOM */\n\n\nvar getDataTransferItemEntry = function getDataTransferItemEntry(item) {\n  return isFunction(item.getAsEntry) ? item.getAsEntry() : isFunction(item.webkitGetAsEntry) ? item.webkitGetAsEntry() : null;\n}; // Drop handler function to get all files\n\n/* istanbul ignore next: not supported in JSDOM */\n\n\nvar getAllFileEntries = function getAllFileEntries(dataTransferItemList) {\n  var traverseDirectories = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  return Promise.all(arrayFrom(dataTransferItemList).filter(function (item) {\n    return item.kind === 'file';\n  }).map(function (item) {\n    var entry = getDataTransferItemEntry(item);\n\n    if (entry) {\n      if (entry.isDirectory && traverseDirectories) {\n        return getAllFileEntriesInDirectory(entry.createReader(), \"\".concat(entry.name, \"/\"));\n      } else if (entry.isFile) {\n        return new Promise(function (resolve) {\n          entry.file(function (file) {\n            file.$path = '';\n            resolve(file);\n          });\n        });\n      }\n    }\n\n    return null;\n  }).filter(identity));\n}; // Get all the file entries (recursive) in a directory\n\n/* istanbul ignore next: not supported in JSDOM */\n\n\nvar getAllFileEntriesInDirectory = function getAllFileEntriesInDirectory(directoryReader) {\n  var path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  return new Promise(function (resolve) {\n    var entryPromises = [];\n\n    var readDirectoryEntries = function readDirectoryEntries() {\n      directoryReader.readEntries(function (entries) {\n        if (entries.length === 0) {\n          resolve(Promise.all(entryPromises).then(function (entries) {\n            return flatten(entries);\n          }));\n        } else {\n          entryPromises.push(Promise.all(entries.map(function (entry) {\n            if (entry) {\n              if (entry.isDirectory) {\n                return getAllFileEntriesInDirectory(entry.createReader(), \"\".concat(path).concat(entry.name, \"/\"));\n              } else if (entry.isFile) {\n                return new Promise(function (resolve) {\n                  entry.file(function (file) {\n                    file.$path = \"\".concat(path).concat(file.name);\n                    resolve(file);\n                  });\n                });\n              }\n            }\n\n            return null;\n          }).filter(identity)));\n          readDirectoryEntries();\n        }\n      });\n    };\n\n    readDirectoryEntries();\n  });\n}; // --- Props ---\n\n\nvar props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, idProps), modelProps), formControlProps), formCustomProps), formStateProps), formSizeProps), {}, {\n  accept: makeProp(PROP_TYPE_STRING, ''),\n  browseText: makeProp(PROP_TYPE_STRING, 'Browse'),\n  // Instruct input to capture from camera\n  capture: makeProp(PROP_TYPE_BOOLEAN, false),\n  directory: makeProp(PROP_TYPE_BOOLEAN, false),\n  dropPlaceholder: makeProp(PROP_TYPE_STRING, 'Drop files here'),\n  fileNameFormatter: makeProp(PROP_TYPE_FUNCTION),\n  multiple: makeProp(PROP_TYPE_BOOLEAN, false),\n  noDrop: makeProp(PROP_TYPE_BOOLEAN, false),\n  noDropPlaceholder: makeProp(PROP_TYPE_STRING, 'Not allowed'),\n  // TODO:\n  //   Should we deprecate this and only support flat file structures?\n  //   Nested file structures are only supported when files are dropped\n  //   A Chromium \"bug\" prevents `webkitEntries` from being populated\n  //   on the file input's `change` event and is marked as \"WontFix\"\n  //   Mozilla implemented the behavior the same way as Chromium\n  //   See: https://bugs.chromium.org/p/chromium/issues/detail?id=138987\n  //   See: https://bugzilla.mozilla.org/show_bug.cgi?id=1326031\n  noTraverse: makeProp(PROP_TYPE_BOOLEAN, false),\n  placeholder: makeProp(PROP_TYPE_STRING, 'No file chosen')\n})), NAME_FORM_FILE); // --- Main component ---\n// @vue/component\n\nexport var BFormFile = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM_FILE,\n  mixins: [attrsMixin, idMixin, modelMixin, normalizeSlotMixin, formControlMixin, formStateMixin, formCustomMixin, normalizeSlotMixin],\n  inheritAttrs: false,\n  props: props,\n  data: function data() {\n    return {\n      files: [],\n      dragging: false,\n      // IE 11 doesn't respect setting `event.dataTransfer.dropEffect`,\n      // so we handle it ourselves as well\n      // https://stackoverflow.com/a/46915971/2744776\n      dropAllowed: !this.noDrop,\n      hasFocus: false\n    };\n  },\n  computed: {\n    // Convert `accept` to an array of `[{ RegExpr, isMime }, ...]`\n    computedAccept: function computedAccept() {\n      var accept = this.accept;\n      accept = (accept || '').trim().split(/[,\\s]+/).filter(identity); // Allow any file type/extension\n\n      if (accept.length === 0) {\n        return null;\n      }\n\n      return accept.map(function (extOrType) {\n        var prop = 'name';\n        var startMatch = '^';\n        var endMatch = '$';\n\n        if (RX_EXTENSION.test(extOrType)) {\n          // File extension /\\.ext$/\n          startMatch = '';\n        } else {\n          // MIME type /^mime\\/.+$/ or /^mime\\/type$/\n          prop = 'type';\n\n          if (RX_STAR.test(extOrType)) {\n            endMatch = '.+$'; // Remove trailing `*`\n\n            extOrType = extOrType.slice(0, -1);\n          }\n        } // Escape all RegExp special chars\n\n\n        extOrType = escapeRegExp(extOrType);\n        var rx = new RegExp(\"\".concat(startMatch).concat(extOrType).concat(endMatch));\n        return {\n          rx: rx,\n          prop: prop\n        };\n      });\n    },\n    computedCapture: function computedCapture() {\n      var capture = this.capture;\n      return capture === true || capture === '' ? true : capture || null;\n    },\n    computedAttrs: function computedAttrs() {\n      var name = this.name,\n          disabled = this.disabled,\n          required = this.required,\n          form = this.form,\n          computedCapture = this.computedCapture,\n          accept = this.accept,\n          multiple = this.multiple,\n          directory = this.directory;\n      return _objectSpread(_objectSpread({}, this.bvAttrs), {}, {\n        type: 'file',\n        id: this.safeId(),\n        name: name,\n        disabled: disabled,\n        required: required,\n        form: form || null,\n        capture: computedCapture,\n        accept: accept || null,\n        multiple: multiple,\n        directory: directory,\n        webkitdirectory: directory,\n        'aria-required': required ? 'true' : null\n      });\n    },\n    computedFileNameFormatter: function computedFileNameFormatter() {\n      var fileNameFormatter = this.fileNameFormatter;\n      return hasPropFunction(fileNameFormatter) ? fileNameFormatter : this.defaultFileNameFormatter;\n    },\n    clonedFiles: function clonedFiles() {\n      return cloneDeep(this.files);\n    },\n    flattenedFiles: function flattenedFiles() {\n      return flattenDeep(this.files);\n    },\n    fileNames: function fileNames() {\n      return this.flattenedFiles.map(function (file) {\n        return file.name;\n      });\n    },\n    labelContent: function labelContent() {\n      // Draging active\n\n      /* istanbul ignore next: used by drag/drop which can't be tested easily */\n      if (this.dragging && !this.noDrop) {\n        return (// TODO: Add additional scope with file count, and other not-allowed reasons\n          this.normalizeSlot(SLOT_NAME_DROP_PLACEHOLDER, {\n            allowed: this.dropAllowed\n          }) || (this.dropAllowed ? this.dropPlaceholder : this.$createElement('span', {\n            staticClass: 'text-danger'\n          }, this.noDropPlaceholder))\n        );\n      } // No file chosen\n\n\n      if (this.files.length === 0) {\n        return this.normalizeSlot(SLOT_NAME_PLACEHOLDER) || this.placeholder;\n      }\n\n      var flattenedFiles = this.flattenedFiles,\n          clonedFiles = this.clonedFiles,\n          fileNames = this.fileNames,\n          computedFileNameFormatter = this.computedFileNameFormatter; // There is a slot for formatting the files/names\n\n      if (this.hasNormalizedSlot(SLOT_NAME_FILE_NAME)) {\n        return this.normalizeSlot(SLOT_NAME_FILE_NAME, {\n          files: flattenedFiles,\n          filesTraversed: clonedFiles,\n          names: fileNames\n        });\n      }\n\n      return computedFileNameFormatter(flattenedFiles, clonedFiles, fileNames);\n    }\n  },\n  watch: (_watch = {}, _defineProperty(_watch, MODEL_PROP_NAME, function (newValue) {\n    if (!newValue || isArray(newValue) && newValue.length === 0) {\n      this.reset();\n    }\n  }), _defineProperty(_watch, \"files\", function files(newValue, oldValue) {\n    if (!looseEqual(newValue, oldValue)) {\n      var multiple = this.multiple,\n          noTraverse = this.noTraverse;\n      var files = !multiple || noTraverse ? flattenDeep(newValue) : newValue;\n      this.$emit(MODEL_EVENT_NAME, multiple ? files : files[0] || null);\n    }\n  }), _watch),\n  created: function created() {\n    // Create private non-reactive props\n    this.$_form = null;\n  },\n  mounted: function mounted() {\n    // Listen for form reset events, to reset the file input\n    var $form = closest('form', this.$el);\n\n    if ($form) {\n      eventOn($form, 'reset', this.reset, EVENT_OPTIONS_PASSIVE);\n      this.$_form = $form;\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    var $form = this.$_form;\n\n    if ($form) {\n      eventOff($form, 'reset', this.reset, EVENT_OPTIONS_PASSIVE);\n    }\n  },\n  methods: {\n    isFileValid: function isFileValid(file) {\n      if (!file) {\n        return false;\n      }\n\n      var accept = this.computedAccept;\n      return accept ? accept.some(function (a) {\n        return a.rx.test(file[a.prop]);\n      }) : true;\n    },\n    isFilesArrayValid: function isFilesArrayValid(files) {\n      var _this = this;\n\n      return isArray(files) ? files.every(function (file) {\n        return _this.isFileValid(file);\n      }) : this.isFileValid(files);\n    },\n    defaultFileNameFormatter: function defaultFileNameFormatter(flattenedFiles, clonedFiles, fileNames) {\n      return fileNames.join(', ');\n    },\n    setFiles: function setFiles(files) {\n      // Reset the dragging flags\n      this.dropAllowed = !this.noDrop;\n      this.dragging = false; // Set the selected files\n\n      this.files = this.multiple ? this.directory ? files : flattenDeep(files) : flattenDeep(files).slice(0, 1);\n    },\n\n    /* istanbul ignore next: used by Drag/Drop */\n    setInputFiles: function setInputFiles(files) {\n      // Try an set the file input files array so that `required`\n      // constraint works for dropped files (will fail in IE11 though)\n      // To be used only when dropping files\n      try {\n        // Firefox < 62 workaround exploiting https://bugzilla.mozilla.org/show_bug.cgi?id=1422655\n        var dataTransfer = new ClipboardEvent('').clipboardData || new DataTransfer(); // Add flattened files to temp `dataTransfer` object to get a true `FileList` array\n\n        flattenDeep(cloneDeep(files)).forEach(function (file) {\n          // Make sure to remove the custom `$path` attribute\n          delete file.$path;\n          dataTransfer.items.add(file);\n        });\n        this.$refs.input.files = dataTransfer.files;\n      } catch (_unused) {}\n    },\n    reset: function reset() {\n      // IE 11 doesn't support setting `$input.value` to `''` or `null`\n      // So we use this little extra hack to reset the value, just in case\n      // This also appears to work on modern browsers as well\n      // Wrapped in try in case IE 11 or mobile Safari crap out\n      try {\n        var $input = this.$refs.input;\n        $input.value = '';\n        $input.type = '';\n        $input.type = 'file';\n      } catch (_unused2) {}\n\n      this.files = [];\n    },\n    handleFiles: function handleFiles(files) {\n      var isDrop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (isDrop) {\n        // When dropped, make sure to filter files with the internal `accept` logic\n        var filteredFiles = files.filter(this.isFilesArrayValid); // Only update files when we have any after filtering\n\n        if (filteredFiles.length > 0) {\n          this.setFiles(filteredFiles); // Try an set the file input's files array so that `required`\n          // constraint works for dropped files (will fail in IE 11 though)\n\n          this.setInputFiles(filteredFiles);\n        }\n      } else {\n        // We always update the files from the `change` event\n        this.setFiles(files);\n      }\n    },\n    focusHandler: function focusHandler(event) {\n      // Bootstrap v4 doesn't have focus styling for custom file input\n      // Firefox has a `[type=file]:focus ~ sibling` selector issue,\n      // so we add a `focus` class to get around these bugs\n      if (this.plain || event.type === 'focusout') {\n        this.hasFocus = false;\n      } else {\n        // Add focus styling for custom file input\n        this.hasFocus = true;\n      }\n    },\n    onChange: function onChange(event) {\n      var _this2 = this;\n\n      var type = event.type,\n          target = event.target,\n          _event$dataTransfer = event.dataTransfer,\n          dataTransfer = _event$dataTransfer === void 0 ? {} : _event$dataTransfer;\n      var isDrop = type === 'drop'; // Always emit original event\n\n      this.$emit(EVENT_NAME_CHANGE, event);\n      var items = arrayFrom(dataTransfer.items || []);\n\n      if (HAS_PROMISE_SUPPORT && items.length > 0 && !isNull(getDataTransferItemEntry(items[0]))) {\n        // Drop handling for modern browsers\n        // Supports nested directory structures in `directory` mode\n\n        /* istanbul ignore next: not supported in JSDOM */\n        getAllFileEntries(items, this.directory).then(function (files) {\n          return _this2.handleFiles(files, isDrop);\n        });\n      } else {\n        // Standard file input handling (native file input change event),\n        // or fallback drop mode (IE 11 / Opera) which don't support `directory` mode\n        var files = arrayFrom(target.files || dataTransfer.files || []).map(function (file) {\n          // Add custom `$path` property to each file (to be consistent with drop mode)\n          file.$path = file.webkitRelativePath || '';\n          return file;\n        });\n        this.handleFiles(files, isDrop);\n      }\n    },\n    onDragenter: function onDragenter(event) {\n      stopEvent(event);\n      this.dragging = true;\n      var _event$dataTransfer2 = event.dataTransfer,\n          dataTransfer = _event$dataTransfer2 === void 0 ? {} : _event$dataTransfer2; // Early exit when the input or dropping is disabled\n\n      if (this.noDrop || this.disabled || !this.dropAllowed) {\n        // Show deny feedback\n\n        /* istanbul ignore next: not supported in JSDOM */\n        dataTransfer.dropEffect = 'none';\n        this.dropAllowed = false;\n        return;\n      }\n      /* istanbul ignore next: not supported in JSDOM */\n\n\n      dataTransfer.dropEffect = 'copy';\n    },\n    // Note this event fires repeatedly while the mouse is over the dropzone at\n    // intervals in the milliseconds, so avoid doing much processing in here\n    onDragover: function onDragover(event) {\n      stopEvent(event);\n      this.dragging = true;\n      var _event$dataTransfer3 = event.dataTransfer,\n          dataTransfer = _event$dataTransfer3 === void 0 ? {} : _event$dataTransfer3; // Early exit when the input or dropping is disabled\n\n      if (this.noDrop || this.disabled || !this.dropAllowed) {\n        // Show deny feedback\n\n        /* istanbul ignore next: not supported in JSDOM */\n        dataTransfer.dropEffect = 'none';\n        this.dropAllowed = false;\n        return;\n      }\n      /* istanbul ignore next: not supported in JSDOM */\n\n\n      dataTransfer.dropEffect = 'copy';\n    },\n    onDragleave: function onDragleave(event) {\n      var _this3 = this;\n\n      stopEvent(event);\n      this.$nextTick(function () {\n        _this3.dragging = false; // Reset `dropAllowed` to default\n\n        _this3.dropAllowed = !_this3.noDrop;\n      });\n    },\n    // Triggered by a file drop onto drop target\n    onDrop: function onDrop(event) {\n      var _this4 = this;\n\n      stopEvent(event);\n      this.dragging = false; // Early exit when the input or dropping is disabled\n\n      if (this.noDrop || this.disabled || !this.dropAllowed) {\n        this.$nextTick(function () {\n          // Reset `dropAllowed` to default\n          _this4.dropAllowed = !_this4.noDrop;\n        });\n        return;\n      }\n\n      this.onChange(event);\n    }\n  },\n  render: function render(h) {\n    var custom = this.custom,\n        plain = this.plain,\n        size = this.size,\n        dragging = this.dragging,\n        stateClass = this.stateClass,\n        bvAttrs = this.bvAttrs; // Form Input\n\n    var $input = h('input', {\n      class: [{\n        'form-control-file': plain,\n        'custom-file-input': custom,\n        focus: custom && this.hasFocus\n      }, stateClass],\n      // With IE 11, the input gets in the \"way\" of the drop events,\n      // so we move it out of the way by putting it behind the label\n      // Bootstrap v4 has it in front\n      style: custom ? {\n        zIndex: -5\n      } : {},\n      attrs: this.computedAttrs,\n      on: {\n        change: this.onChange,\n        focusin: this.focusHandler,\n        focusout: this.focusHandler,\n        reset: this.reset\n      },\n      ref: 'input'\n    });\n\n    if (plain) {\n      return $input;\n    } // Overlay label\n\n\n    var $label = h('label', {\n      staticClass: 'custom-file-label',\n      class: {\n        dragging: dragging\n      },\n      attrs: {\n        for: this.safeId(),\n        // This goes away in Bootstrap v5\n        'data-browse': this.browseText || null\n      }\n    }, [h('span', {\n      staticClass: 'd-block form-file-text',\n      // `pointer-events: none` is used to make sure\n      // the drag events fire only on the label\n      style: {\n        pointerEvents: 'none'\n      }\n    }, [this.labelContent])]); // Return rendered custom file input\n\n    return h('div', {\n      staticClass: 'custom-file b-form-file',\n      class: [_defineProperty({}, \"b-custom-control-\".concat(size), size), stateClass, bvAttrs.class],\n      style: bvAttrs.style,\n      attrs: {\n        id: this.safeId('_BV_file_outer_')\n      },\n      on: {\n        dragenter: this.onDragenter,\n        dragover: this.onDragover,\n        dragleave: this.onDragleave,\n        drop: this.onDrop\n      }\n    }, [$input, $label]);\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}