{"ast":null,"code":"function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport { COMPONENT_UID_KEY, Vue } from '../../vue';\nimport { NAME_MODAL } from '../../constants/components';\nimport { IS_BROWSER } from '../../constants/env';\nimport { EVENT_NAME_CANCEL, EVENT_NAME_CHANGE, EVENT_NAME_CLOSE, EVENT_NAME_HIDDEN, EVENT_NAME_HIDE, EVENT_NAME_OK, EVENT_NAME_SHOW, EVENT_NAME_SHOWN, EVENT_NAME_TOGGLE, EVENT_OPTIONS_NO_CAPTURE } from '../../constants/events';\nimport { CODE_ESC } from '../../constants/key-codes';\nimport { PROP_TYPE_ARRAY_OBJECT_STRING, PROP_TYPE_ARRAY_STRING, PROP_TYPE_BOOLEAN, PROP_TYPE_OBJECT, PROP_TYPE_STRING } from '../../constants/props';\nimport { HTMLElement } from '../../constants/safe-types';\nimport { SLOT_NAME_DEFAULT, SLOT_NAME_MODAL_BACKDROP, SLOT_NAME_MODAL_CANCEL, SLOT_NAME_MODAL_FOOTER, SLOT_NAME_MODAL_HEADER, SLOT_NAME_MODAL_HEADER_CLOSE, SLOT_NAME_MODAL_OK, SLOT_NAME_MODAL_TITLE } from '../../constants/slots';\nimport { arrayIncludes, concat } from '../../utils/array';\nimport { attemptFocus, closest, contains, getActiveElement as _getActiveElement, getTabables, requestAF, select } from '../../utils/dom';\nimport { getRootActionEventName, getRootEventName, eventOn, eventOff } from '../../utils/events';\nimport { htmlOrText } from '../../utils/html';\nimport { identity } from '../../utils/identity';\nimport { isString, isUndefinedOrNull } from '../../utils/inspect';\nimport { makeModelMixin } from '../../utils/model';\nimport { sortKeys } from '../../utils/object';\nimport { observeDom } from '../../utils/observe-dom';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { attrsMixin } from '../../mixins/attrs';\nimport { idMixin, props as idProps } from '../../mixins/id';\nimport { listenOnDocumentMixin } from '../../mixins/listen-on-document';\nimport { listenOnRootMixin } from '../../mixins/listen-on-root';\nimport { listenOnWindowMixin } from '../../mixins/listen-on-window';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot';\nimport { scopedStyleMixin } from '../../mixins/scoped-style';\nimport { BButton } from '../button/button';\nimport { BButtonClose } from '../button/button-close';\nimport { BVTransition } from '../transition/bv-transition';\nimport { BVTransporter } from '../transporter/transporter';\nimport { BvModalEvent } from './helpers/bv-modal-event.class';\nimport { modalManager } from './helpers/modal-manager'; // --- Constants ---\n\nvar _makeModelMixin = makeModelMixin('visible', {\n  type: PROP_TYPE_BOOLEAN,\n  defaultValue: false,\n  event: EVENT_NAME_CHANGE\n}),\n    modelMixin = _makeModelMixin.mixin,\n    modelProps = _makeModelMixin.props,\n    MODEL_PROP_NAME = _makeModelMixin.prop,\n    MODEL_EVENT_NAME = _makeModelMixin.event;\n\nvar TRIGGER_BACKDROP = 'backdrop';\nvar TRIGGER_ESC = 'esc';\nvar TRIGGER_FORCE = 'FORCE';\nvar TRIGGER_TOGGLE = 'toggle';\nvar BUTTON_CANCEL = 'cancel'; // TODO: This should be renamed to 'close'\n\nvar BUTTON_CLOSE = 'headerclose';\nvar BUTTON_OK = 'ok';\nvar BUTTONS = [BUTTON_CANCEL, BUTTON_CLOSE, BUTTON_OK]; // `ObserveDom` config to detect changes in modal content\n// so that we can adjust the modal padding if needed\n\nvar OBSERVER_CONFIG = {\n  subtree: true,\n  childList: true,\n  characterData: true,\n  attributes: true,\n  attributeFilter: ['style', 'class']\n}; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread({}, idProps), modelProps), {}, {\n  ariaLabel: makeProp(PROP_TYPE_STRING),\n  autoFocusButton: makeProp(PROP_TYPE_STRING, null,\n  /* istanbul ignore next */\n  function (value) {\n    return isUndefinedOrNull(value) || arrayIncludes(BUTTONS, value);\n  }),\n  bodyBgVariant: makeProp(PROP_TYPE_STRING),\n  bodyClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  bodyTextVariant: makeProp(PROP_TYPE_STRING),\n  busy: makeProp(PROP_TYPE_BOOLEAN, false),\n  buttonSize: makeProp(PROP_TYPE_STRING),\n  cancelDisabled: makeProp(PROP_TYPE_BOOLEAN, false),\n  cancelTitle: makeProp(PROP_TYPE_STRING, 'Cancel'),\n  cancelTitleHtml: makeProp(PROP_TYPE_STRING),\n  cancelVariant: makeProp(PROP_TYPE_STRING, 'secondary'),\n  centered: makeProp(PROP_TYPE_BOOLEAN, false),\n  contentClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  dialogClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  footerBgVariant: makeProp(PROP_TYPE_STRING),\n  footerBorderVariant: makeProp(PROP_TYPE_STRING),\n  footerClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  footerTag: makeProp(PROP_TYPE_STRING, 'footer'),\n  footerTextVariant: makeProp(PROP_TYPE_STRING),\n  headerBgVariant: makeProp(PROP_TYPE_STRING),\n  headerBorderVariant: makeProp(PROP_TYPE_STRING),\n  headerClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  headerCloseContent: makeProp(PROP_TYPE_STRING, '&times;'),\n  headerCloseLabel: makeProp(PROP_TYPE_STRING, 'Close'),\n  headerCloseVariant: makeProp(PROP_TYPE_STRING),\n  headerTag: makeProp(PROP_TYPE_STRING, 'header'),\n  headerTextVariant: makeProp(PROP_TYPE_STRING),\n  // TODO: Rename to `noBackdrop` and deprecate `hideBackdrop`\n  hideBackdrop: makeProp(PROP_TYPE_BOOLEAN, false),\n  // TODO: Rename to `noFooter` and deprecate `hideFooter`\n  hideFooter: makeProp(PROP_TYPE_BOOLEAN, false),\n  // TODO: Rename to `noHeader` and deprecate `hideHeader`\n  hideHeader: makeProp(PROP_TYPE_BOOLEAN, false),\n  // TODO: Rename to `noHeaderClose` and deprecate `hideHeaderClose`\n  hideHeaderClose: makeProp(PROP_TYPE_BOOLEAN, false),\n  ignoreEnforceFocusSelector: makeProp(PROP_TYPE_ARRAY_STRING),\n  lazy: makeProp(PROP_TYPE_BOOLEAN, false),\n  modalClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  noCloseOnBackdrop: makeProp(PROP_TYPE_BOOLEAN, false),\n  noCloseOnEsc: makeProp(PROP_TYPE_BOOLEAN, false),\n  noEnforceFocus: makeProp(PROP_TYPE_BOOLEAN, false),\n  noFade: makeProp(PROP_TYPE_BOOLEAN, false),\n  noStacking: makeProp(PROP_TYPE_BOOLEAN, false),\n  okDisabled: makeProp(PROP_TYPE_BOOLEAN, false),\n  okOnly: makeProp(PROP_TYPE_BOOLEAN, false),\n  okTitle: makeProp(PROP_TYPE_STRING, 'OK'),\n  okTitleHtml: makeProp(PROP_TYPE_STRING),\n  okVariant: makeProp(PROP_TYPE_STRING, 'primary'),\n  // HTML Element, CSS selector string or Vue component instance\n  returnFocus: makeProp([HTMLElement, PROP_TYPE_OBJECT, PROP_TYPE_STRING]),\n  scrollable: makeProp(PROP_TYPE_BOOLEAN, false),\n  size: makeProp(PROP_TYPE_STRING, 'md'),\n  static: makeProp(PROP_TYPE_BOOLEAN, false),\n  title: makeProp(PROP_TYPE_STRING),\n  titleClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  titleHtml: makeProp(PROP_TYPE_STRING),\n  titleSrOnly: makeProp(PROP_TYPE_BOOLEAN, false),\n  titleTag: makeProp(PROP_TYPE_STRING, 'h5')\n})), NAME_MODAL); // --- Main component ---\n// @vue/component\n\nexport var BModal = /*#__PURE__*/Vue.extend({\n  name: NAME_MODAL,\n  mixins: [attrsMixin, idMixin, modelMixin, listenOnDocumentMixin, listenOnRootMixin, listenOnWindowMixin, normalizeSlotMixin, scopedStyleMixin],\n  inheritAttrs: false,\n  props: props,\n  data: function data() {\n    return {\n      isHidden: true,\n      // If modal should not be in document\n      isVisible: false,\n      // Controls modal visible state\n      isTransitioning: false,\n      // Used for style control\n      isShow: false,\n      // Used for style control\n      isBlock: false,\n      // Used for style control\n      isOpening: false,\n      // To signal that the modal is in the process of opening\n      isClosing: false,\n      // To signal that the modal is in the process of closing\n      ignoreBackdropClick: false,\n      // Used to signify if click out listener should ignore the click\n      isModalOverflowing: false,\n      // The following items are controlled by the modalManager instance\n      scrollbarWidth: 0,\n      zIndex: modalManager.getBaseZIndex(),\n      isTop: true,\n      isBodyOverflowing: false\n    };\n  },\n  computed: {\n    modalId: function modalId() {\n      return this.safeId();\n    },\n    modalOuterId: function modalOuterId() {\n      return this.safeId('__BV_modal_outer_');\n    },\n    modalHeaderId: function modalHeaderId() {\n      return this.safeId('__BV_modal_header_');\n    },\n    modalBodyId: function modalBodyId() {\n      return this.safeId('__BV_modal_body_');\n    },\n    modalTitleId: function modalTitleId() {\n      return this.safeId('__BV_modal_title_');\n    },\n    modalContentId: function modalContentId() {\n      return this.safeId('__BV_modal_content_');\n    },\n    modalFooterId: function modalFooterId() {\n      return this.safeId('__BV_modal_footer_');\n    },\n    modalBackdropId: function modalBackdropId() {\n      return this.safeId('__BV_modal_backdrop_');\n    },\n    modalClasses: function modalClasses() {\n      return [{\n        fade: !this.noFade,\n        show: this.isShow\n      }, this.modalClass];\n    },\n    modalStyles: function modalStyles() {\n      var sbWidth = \"\".concat(this.scrollbarWidth, \"px\");\n      return {\n        paddingLeft: !this.isBodyOverflowing && this.isModalOverflowing ? sbWidth : '',\n        paddingRight: this.isBodyOverflowing && !this.isModalOverflowing ? sbWidth : '',\n        // Needed to fix issue https://github.com/bootstrap-vue/bootstrap-vue/issues/3457\n        // Even though we are using v-show, we must ensure 'none' is restored in the styles\n        display: this.isBlock ? 'block' : 'none'\n      };\n    },\n    dialogClasses: function dialogClasses() {\n      var _ref;\n\n      return [(_ref = {}, _defineProperty(_ref, \"modal-\".concat(this.size), this.size), _defineProperty(_ref, 'modal-dialog-centered', this.centered), _defineProperty(_ref, 'modal-dialog-scrollable', this.scrollable), _ref), this.dialogClass];\n    },\n    headerClasses: function headerClasses() {\n      var _ref2;\n\n      return [(_ref2 = {}, _defineProperty(_ref2, \"bg-\".concat(this.headerBgVariant), this.headerBgVariant), _defineProperty(_ref2, \"text-\".concat(this.headerTextVariant), this.headerTextVariant), _defineProperty(_ref2, \"border-\".concat(this.headerBorderVariant), this.headerBorderVariant), _ref2), this.headerClass];\n    },\n    titleClasses: function titleClasses() {\n      return [{\n        'sr-only': this.titleSrOnly\n      }, this.titleClass];\n    },\n    bodyClasses: function bodyClasses() {\n      var _ref3;\n\n      return [(_ref3 = {}, _defineProperty(_ref3, \"bg-\".concat(this.bodyBgVariant), this.bodyBgVariant), _defineProperty(_ref3, \"text-\".concat(this.bodyTextVariant), this.bodyTextVariant), _ref3), this.bodyClass];\n    },\n    footerClasses: function footerClasses() {\n      var _ref4;\n\n      return [(_ref4 = {}, _defineProperty(_ref4, \"bg-\".concat(this.footerBgVariant), this.footerBgVariant), _defineProperty(_ref4, \"text-\".concat(this.footerTextVariant), this.footerTextVariant), _defineProperty(_ref4, \"border-\".concat(this.footerBorderVariant), this.footerBorderVariant), _ref4), this.footerClass];\n    },\n    modalOuterStyle: function modalOuterStyle() {\n      // Styles needed for proper stacking of modals\n      return {\n        position: 'absolute',\n        zIndex: this.zIndex\n      };\n    },\n    slotScope: function slotScope() {\n      return {\n        cancel: this.onCancel,\n        close: this.onClose,\n        hide: this.hide,\n        ok: this.onOk,\n        visible: this.isVisible\n      };\n    },\n    computeIgnoreEnforceFocusSelector: function computeIgnoreEnforceFocusSelector() {\n      // Normalize to an single selector with selectors separated by `,`\n      return concat(this.ignoreEnforceFocusSelector).filter(identity).join(',').trim();\n    },\n    computedAttrs: function computedAttrs() {\n      // If the parent has a scoped style attribute, and the modal\n      // is portalled, add the scoped attribute to the modal wrapper\n      var scopedStyleAttrs = !this.static ? this.scopedStyleAttrs : {};\n      return _objectSpread(_objectSpread(_objectSpread({}, scopedStyleAttrs), this.bvAttrs), {}, {\n        id: this.modalOuterId\n      });\n    },\n    computedModalAttrs: function computedModalAttrs() {\n      var isVisible = this.isVisible,\n          ariaLabel = this.ariaLabel;\n      return {\n        id: this.modalId,\n        role: 'dialog',\n        'aria-hidden': isVisible ? null : 'true',\n        'aria-modal': isVisible ? 'true' : null,\n        'aria-label': ariaLabel,\n        'aria-labelledby': this.hideHeader || ariaLabel || // TODO: Rename slot to `title` and deprecate `modal-title`\n        !(this.hasNormalizedSlot(SLOT_NAME_MODAL_TITLE) || this.titleHtml || this.title) ? null : this.modalTitleId,\n        'aria-describedby': this.modalBodyId\n      };\n    }\n  },\n  watch: _defineProperty({}, MODEL_PROP_NAME, function (newValue, oldValue) {\n    if (newValue !== oldValue) {\n      this[newValue ? 'show' : 'hide']();\n    }\n  }),\n  created: function created() {\n    // Define non-reactive properties\n    this.$_observer = null;\n    this.$_returnFocus = this.returnFocus || null;\n  },\n  mounted: function mounted() {\n    // Set initial z-index as queried from the DOM\n    this.zIndex = modalManager.getBaseZIndex(); // Listen for events from others to either open or close ourselves\n    // and listen to all modals to enable/disable enforce focus\n\n    this.listenOnRoot(getRootActionEventName(NAME_MODAL, EVENT_NAME_SHOW), this.showHandler);\n    this.listenOnRoot(getRootActionEventName(NAME_MODAL, EVENT_NAME_HIDE), this.hideHandler);\n    this.listenOnRoot(getRootActionEventName(NAME_MODAL, EVENT_NAME_TOGGLE), this.toggleHandler); // Listen for `bv:modal::show events`, and close ourselves if the\n    // opening modal not us\n\n    this.listenOnRoot(getRootEventName(NAME_MODAL, EVENT_NAME_SHOW), this.modalListener); // Initially show modal?\n\n    if (this[MODEL_PROP_NAME] === true) {\n      this.$nextTick(this.show);\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    // Ensure everything is back to normal\n    modalManager.unregisterModal(this);\n    this.setObserver(false);\n\n    if (this.isVisible) {\n      this.isVisible = false;\n      this.isShow = false;\n      this.isTransitioning = false;\n    }\n  },\n  methods: {\n    setObserver: function setObserver() {\n      var on = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      this.$_observer && this.$_observer.disconnect();\n      this.$_observer = null;\n\n      if (on) {\n        this.$_observer = observeDom(this.$refs.content, this.checkModalOverflow.bind(this), OBSERVER_CONFIG);\n      }\n    },\n    // Private method to update the v-model\n    updateModel: function updateModel(value) {\n      if (value !== this[MODEL_PROP_NAME]) {\n        this.$emit(MODEL_EVENT_NAME, value);\n      }\n    },\n    // Private method to create a BvModalEvent object\n    buildEvent: function buildEvent(type) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return new BvModalEvent(type, _objectSpread(_objectSpread({\n        // Default options\n        cancelable: false,\n        target: this.$refs.modal || this.$el || null,\n        relatedTarget: null,\n        trigger: null\n      }, options), {}, {\n        // Options that can't be overridden\n        vueTarget: this,\n        componentId: this.modalId\n      }));\n    },\n    // Public method to show modal\n    show: function show() {\n      if (this.isVisible || this.isOpening) {\n        // If already open, or in the process of opening, do nothing\n\n        /* istanbul ignore next */\n        return;\n      }\n      /* istanbul ignore next */\n\n\n      if (this.isClosing) {\n        // If we are in the process of closing, wait until hidden before re-opening\n\n        /* istanbul ignore next */\n        this.$once(EVENT_NAME_HIDDEN, this.show);\n        /* istanbul ignore next */\n\n        return;\n      }\n\n      this.isOpening = true; // Set the element to return focus to when closed\n\n      this.$_returnFocus = this.$_returnFocus || this.getActiveElement();\n      var showEvent = this.buildEvent(EVENT_NAME_SHOW, {\n        cancelable: true\n      });\n      this.emitEvent(showEvent); // Don't show if canceled\n\n      if (showEvent.defaultPrevented || this.isVisible) {\n        this.isOpening = false; // Ensure the v-model reflects the current state\n\n        this.updateModel(false);\n        return;\n      } // Show the modal\n\n\n      this.doShow();\n    },\n    // Public method to hide modal\n    hide: function hide() {\n      var trigger = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n      if (!this.isVisible || this.isClosing) {\n        /* istanbul ignore next */\n        return;\n      }\n\n      this.isClosing = true;\n      var hideEvent = this.buildEvent(EVENT_NAME_HIDE, {\n        cancelable: trigger !== TRIGGER_FORCE,\n        trigger: trigger || null\n      }); // We emit specific event for one of the three built-in buttons\n\n      if (trigger === BUTTON_OK) {\n        this.$emit(EVENT_NAME_OK, hideEvent);\n      } else if (trigger === BUTTON_CANCEL) {\n        this.$emit(EVENT_NAME_CANCEL, hideEvent);\n      } else if (trigger === BUTTON_CLOSE) {\n        this.$emit(EVENT_NAME_CLOSE, hideEvent);\n      }\n\n      this.emitEvent(hideEvent); // Hide if not canceled\n\n      if (hideEvent.defaultPrevented || !this.isVisible) {\n        this.isClosing = false; // Ensure v-model reflects current state\n\n        this.updateModel(true);\n        return;\n      } // Stop observing for content changes\n\n\n      this.setObserver(false); // Trigger the hide transition\n\n      this.isVisible = false; // Update the v-model\n\n      this.updateModel(false);\n    },\n    // Public method to toggle modal visibility\n    toggle: function toggle(triggerEl) {\n      if (triggerEl) {\n        this.$_returnFocus = triggerEl;\n      }\n\n      if (this.isVisible) {\n        this.hide(TRIGGER_TOGGLE);\n      } else {\n        this.show();\n      }\n    },\n    // Private method to get the current document active element\n    getActiveElement: function getActiveElement() {\n      // Returning focus to `document.body` may cause unwanted scrolls,\n      // so we exclude setting focus on body\n      var activeElement = _getActiveElement(IS_BROWSER ? [document.body] : []); // Preset the fallback return focus value if it is not set\n      // `document.activeElement` should be the trigger element that was clicked or\n      // in the case of using the v-model, which ever element has current focus\n      // Will be overridden by some commands such as toggle, etc.\n      // Note: On IE 11, `document.activeElement` may be `null`\n      // So we test it for truthiness first\n      // https://github.com/bootstrap-vue/bootstrap-vue/issues/3206\n\n\n      return activeElement && activeElement.focus ? activeElement : null;\n    },\n    // Private method to finish showing modal\n    doShow: function doShow() {\n      var _this = this;\n      /* istanbul ignore next: commenting out for now until we can test stacking */\n\n\n      if (modalManager.modalsAreOpen && this.noStacking) {\n        // If another modal(s) is already open, wait for it(them) to close\n        this.listenOnRootOnce(getRootEventName(NAME_MODAL, EVENT_NAME_HIDDEN), this.doShow);\n        return;\n      }\n\n      modalManager.registerModal(this); // Place modal in DOM\n\n      this.isHidden = false;\n      this.$nextTick(function () {\n        // We do this in `$nextTick()` to ensure the modal is in DOM first\n        // before we show it\n        _this.isVisible = true;\n        _this.isOpening = false; // Update the v-model\n\n        _this.updateModel(true);\n\n        _this.$nextTick(function () {\n          // Observe changes in modal content and adjust if necessary\n          // In a `$nextTick()` in case modal content is lazy\n          _this.setObserver(true);\n        });\n      });\n    },\n    // Transition handlers\n    onBeforeEnter: function onBeforeEnter() {\n      this.isTransitioning = true;\n      this.setResizeEvent(true);\n    },\n    onEnter: function onEnter() {\n      var _this2 = this;\n\n      this.isBlock = true; // We add the `show` class 1 frame later\n      // `requestAF()` runs the callback before the next repaint, so we need\n      // two calls to guarantee the next frame has been rendered\n\n      requestAF(function () {\n        requestAF(function () {\n          _this2.isShow = true;\n        });\n      });\n    },\n    onAfterEnter: function onAfterEnter() {\n      var _this3 = this;\n\n      this.checkModalOverflow();\n      this.isTransitioning = false; // We use `requestAF()` to allow transition hooks to complete\n      // before passing control over to the other handlers\n      // This will allow users to not have to use `$nextTick()` or `requestAF()`\n      // when trying to pre-focus an element\n\n      requestAF(function () {\n        _this3.emitEvent(_this3.buildEvent(EVENT_NAME_SHOWN));\n\n        _this3.setEnforceFocus(true);\n\n        _this3.$nextTick(function () {\n          // Delayed in a `$nextTick()` to allow users time to pre-focus\n          // an element if the wish\n          _this3.focusFirst();\n        });\n      });\n    },\n    onBeforeLeave: function onBeforeLeave() {\n      this.isTransitioning = true;\n      this.setResizeEvent(false);\n      this.setEnforceFocus(false);\n    },\n    onLeave: function onLeave() {\n      // Remove the 'show' class\n      this.isShow = false;\n    },\n    onAfterLeave: function onAfterLeave() {\n      var _this4 = this;\n\n      this.isBlock = false;\n      this.isTransitioning = false;\n      this.isModalOverflowing = false;\n      this.isHidden = true;\n      this.$nextTick(function () {\n        _this4.isClosing = false;\n        modalManager.unregisterModal(_this4);\n\n        _this4.returnFocusTo(); // TODO: Need to find a way to pass the `trigger` property\n        //       to the `hidden` event, not just only the `hide` event\n\n\n        _this4.emitEvent(_this4.buildEvent(EVENT_NAME_HIDDEN));\n      });\n    },\n    emitEvent: function emitEvent(bvEvent) {\n      var type = bvEvent.type; // We emit on `$root` first in case a global listener wants to cancel\n      // the event first before the instance emits its event\n\n      this.emitOnRoot(getRootEventName(NAME_MODAL, type), bvEvent, bvEvent.componentId);\n      this.$emit(type, bvEvent);\n    },\n    // UI event handlers\n    onDialogMousedown: function onDialogMousedown() {\n      var _this5 = this; // Watch to see if the matching mouseup event occurs outside the dialog\n      // And if it does, cancel the clickOut handler\n\n\n      var modal = this.$refs.modal;\n\n      var onceModalMouseup = function onceModalMouseup(event) {\n        eventOff(modal, 'mouseup', onceModalMouseup, EVENT_OPTIONS_NO_CAPTURE);\n\n        if (event.target === modal) {\n          _this5.ignoreBackdropClick = true;\n        }\n      };\n\n      eventOn(modal, 'mouseup', onceModalMouseup, EVENT_OPTIONS_NO_CAPTURE);\n    },\n    onClickOut: function onClickOut(event) {\n      if (this.ignoreBackdropClick) {\n        // Click was initiated inside the modal content, but finished outside.\n        // Set by the above onDialogMousedown handler\n        this.ignoreBackdropClick = false;\n        return;\n      } // Do nothing if not visible, backdrop click disabled, or element\n      // that generated click event is no longer in document body\n\n\n      if (!this.isVisible || this.noCloseOnBackdrop || !contains(document.body, event.target)) {\n        return;\n      } // If backdrop clicked, hide modal\n\n\n      if (!contains(this.$refs.content, event.target)) {\n        this.hide(TRIGGER_BACKDROP);\n      }\n    },\n    onOk: function onOk() {\n      this.hide(BUTTON_OK);\n    },\n    onCancel: function onCancel() {\n      this.hide(BUTTON_CANCEL);\n    },\n    onClose: function onClose() {\n      this.hide(BUTTON_CLOSE);\n    },\n    onEsc: function onEsc(event) {\n      // If ESC pressed, hide modal\n      if (event.keyCode === CODE_ESC && this.isVisible && !this.noCloseOnEsc) {\n        this.hide(TRIGGER_ESC);\n      }\n    },\n    // Document focusin listener\n    focusHandler: function focusHandler(event) {\n      // If focus leaves modal content, bring it back\n      var content = this.$refs.content;\n      var target = event.target;\n\n      if (this.noEnforceFocus || !this.isTop || !this.isVisible || !content || document === target || contains(content, target) || this.computeIgnoreEnforceFocusSelector && closest(this.computeIgnoreEnforceFocusSelector, target, true)) {\n        return;\n      }\n\n      var tabables = getTabables(this.$refs.content);\n      var bottomTrap = this.$refs['bottom-trap'];\n      var topTrap = this.$refs['top-trap'];\n\n      if (bottomTrap && target === bottomTrap) {\n        // If user pressed TAB out of modal into our bottom trab trap element\n        // Find the first tabable element in the modal content and focus it\n        if (attemptFocus(tabables[0])) {\n          // Focus was successful\n          return;\n        }\n      } else if (topTrap && target === topTrap) {\n        // If user pressed CTRL-TAB out of modal and into our top tab trap element\n        // Find the last tabable element in the modal content and focus it\n        if (attemptFocus(tabables[tabables.length - 1])) {\n          // Focus was successful\n          return;\n        }\n      } // Otherwise focus the modal content container\n\n\n      attemptFocus(content, {\n        preventScroll: true\n      });\n    },\n    // Turn on/off focusin listener\n    setEnforceFocus: function setEnforceFocus(on) {\n      this.listenDocument(on, 'focusin', this.focusHandler);\n    },\n    // Resize listener\n    setResizeEvent: function setResizeEvent(on) {\n      this.listenWindow(on, 'resize', this.checkModalOverflow);\n      this.listenWindow(on, 'orientationchange', this.checkModalOverflow);\n    },\n    // Root listener handlers\n    showHandler: function showHandler(id, triggerEl) {\n      if (id === this.modalId) {\n        this.$_returnFocus = triggerEl || this.getActiveElement();\n        this.show();\n      }\n    },\n    hideHandler: function hideHandler(id) {\n      if (id === this.modalId) {\n        this.hide('event');\n      }\n    },\n    toggleHandler: function toggleHandler(id, triggerEl) {\n      if (id === this.modalId) {\n        this.toggle(triggerEl);\n      }\n    },\n    modalListener: function modalListener(bvEvent) {\n      // If another modal opens, close this one if stacking not permitted\n      if (this.noStacking && bvEvent.vueTarget !== this) {\n        this.hide();\n      }\n    },\n    // Focus control handlers\n    focusFirst: function focusFirst() {\n      var _this6 = this; // Don't try and focus if we are SSR\n\n\n      if (IS_BROWSER) {\n        requestAF(function () {\n          var modal = _this6.$refs.modal;\n          var content = _this6.$refs.content;\n\n          var activeElement = _this6.getActiveElement(); // If the modal contains the activeElement, we don't do anything\n\n\n          if (modal && content && !(activeElement && contains(content, activeElement))) {\n            var ok = _this6.$refs['ok-button'];\n            var cancel = _this6.$refs['cancel-button'];\n            var close = _this6.$refs['close-button']; // Focus the appropriate button or modal content wrapper\n\n            var autoFocus = _this6.autoFocusButton;\n            /* istanbul ignore next */\n\n            var el = autoFocus === BUTTON_OK && ok ? ok.$el || ok : autoFocus === BUTTON_CANCEL && cancel ? cancel.$el || cancel : autoFocus === BUTTON_CLOSE && close ? close.$el || close : content; // Focus the element\n\n            attemptFocus(el);\n\n            if (el === content) {\n              // Make sure top of modal is showing (if longer than the viewport)\n              _this6.$nextTick(function () {\n                modal.scrollTop = 0;\n              });\n            }\n          }\n        });\n      }\n    },\n    returnFocusTo: function returnFocusTo() {\n      // Prefer `returnFocus` prop over event specified\n      // `return_focus` value\n      var el = this.returnFocus || this.$_returnFocus || null;\n      this.$_returnFocus = null;\n      this.$nextTick(function () {\n        // Is el a string CSS selector?\n        el = isString(el) ? select(el) : el;\n\n        if (el) {\n          // Possibly could be a component reference\n          el = el.$el || el;\n          attemptFocus(el);\n        }\n      });\n    },\n    checkModalOverflow: function checkModalOverflow() {\n      if (this.isVisible) {\n        var modal = this.$refs.modal;\n        this.isModalOverflowing = modal.scrollHeight > document.documentElement.clientHeight;\n      }\n    },\n    makeModal: function makeModal(h) {\n      // Modal header\n      var $header = h();\n\n      if (!this.hideHeader) {\n        // TODO: Rename slot to `header` and deprecate `modal-header`\n        var $modalHeader = this.normalizeSlot(SLOT_NAME_MODAL_HEADER, this.slotScope);\n\n        if (!$modalHeader) {\n          var $closeButton = h();\n\n          if (!this.hideHeaderClose) {\n            $closeButton = h(BButtonClose, {\n              props: {\n                content: this.headerCloseContent,\n                disabled: this.isTransitioning,\n                ariaLabel: this.headerCloseLabel,\n                textVariant: this.headerCloseVariant || this.headerTextVariant\n              },\n              on: {\n                click: this.onClose\n              },\n              ref: 'close-button'\n            }, // TODO: Rename slot to `header-close` and deprecate `modal-header-close`\n            [this.normalizeSlot(SLOT_NAME_MODAL_HEADER_CLOSE)]);\n          }\n\n          $modalHeader = [h(this.titleTag, {\n            staticClass: 'modal-title',\n            class: this.titleClasses,\n            attrs: {\n              id: this.modalTitleId\n            },\n            // TODO: Rename slot to `title` and deprecate `modal-title`\n            domProps: this.hasNormalizedSlot(SLOT_NAME_MODAL_TITLE) ? {} : htmlOrText(this.titleHtml, this.title)\n          }, // TODO: Rename slot to `title` and deprecate `modal-title`\n          this.normalizeSlot(SLOT_NAME_MODAL_TITLE, this.slotScope)), $closeButton];\n        }\n\n        $header = h(this.headerTag, {\n          staticClass: 'modal-header',\n          class: this.headerClasses,\n          attrs: {\n            id: this.modalHeaderId\n          },\n          ref: 'header'\n        }, [$modalHeader]);\n      } // Modal body\n\n\n      var $body = h('div', {\n        staticClass: 'modal-body',\n        class: this.bodyClasses,\n        attrs: {\n          id: this.modalBodyId\n        },\n        ref: 'body'\n      }, this.normalizeSlot(SLOT_NAME_DEFAULT, this.slotScope)); // Modal footer\n\n      var $footer = h();\n\n      if (!this.hideFooter) {\n        // TODO: Rename slot to `footer` and deprecate `modal-footer`\n        var $modalFooter = this.normalizeSlot(SLOT_NAME_MODAL_FOOTER, this.slotScope);\n\n        if (!$modalFooter) {\n          var $cancelButton = h();\n\n          if (!this.okOnly) {\n            $cancelButton = h(BButton, {\n              props: {\n                variant: this.cancelVariant,\n                size: this.buttonSize,\n                disabled: this.cancelDisabled || this.busy || this.isTransitioning\n              },\n              // TODO: Rename slot to `cancel-button` and deprecate `modal-cancel`\n              domProps: this.hasNormalizedSlot(SLOT_NAME_MODAL_CANCEL) ? {} : htmlOrText(this.cancelTitleHtml, this.cancelTitle),\n              on: {\n                click: this.onCancel\n              },\n              ref: 'cancel-button'\n            }, // TODO: Rename slot to `cancel-button` and deprecate `modal-cancel`\n            this.normalizeSlot(SLOT_NAME_MODAL_CANCEL));\n          }\n\n          var $okButton = h(BButton, {\n            props: {\n              variant: this.okVariant,\n              size: this.buttonSize,\n              disabled: this.okDisabled || this.busy || this.isTransitioning\n            },\n            // TODO: Rename slot to `ok-button` and deprecate `modal-ok`\n            domProps: this.hasNormalizedSlot(SLOT_NAME_MODAL_OK) ? {} : htmlOrText(this.okTitleHtml, this.okTitle),\n            on: {\n              click: this.onOk\n            },\n            ref: 'ok-button'\n          }, // TODO: Rename slot to `ok-button` and deprecate `modal-ok`\n          this.normalizeSlot(SLOT_NAME_MODAL_OK));\n          $modalFooter = [$cancelButton, $okButton];\n        }\n\n        $footer = h(this.footerTag, {\n          staticClass: 'modal-footer',\n          class: this.footerClasses,\n          attrs: {\n            id: this.modalFooterId\n          },\n          ref: 'footer'\n        }, [$modalFooter]);\n      } // Assemble modal content\n\n\n      var $modalContent = h('div', {\n        staticClass: 'modal-content',\n        class: this.contentClass,\n        attrs: {\n          id: this.modalContentId,\n          tabindex: '-1'\n        },\n        ref: 'content'\n      }, [$header, $body, $footer]); // Tab traps to prevent page from scrolling to next element in\n      // tab index during enforce-focus tab cycle\n\n      var $tabTrapTop = h();\n      var $tabTrapBottom = h();\n\n      if (this.isVisible && !this.noEnforceFocus) {\n        $tabTrapTop = h('span', {\n          attrs: {\n            tabindex: '0'\n          },\n          ref: 'top-trap'\n        });\n        $tabTrapBottom = h('span', {\n          attrs: {\n            tabindex: '0'\n          },\n          ref: 'bottom-trap'\n        });\n      } // Modal dialog wrapper\n\n\n      var $modalDialog = h('div', {\n        staticClass: 'modal-dialog',\n        class: this.dialogClasses,\n        on: {\n          mousedown: this.onDialogMousedown\n        },\n        ref: 'dialog'\n      }, [$tabTrapTop, $modalContent, $tabTrapBottom]); // Modal\n\n      var $modal = h('div', {\n        staticClass: 'modal',\n        class: this.modalClasses,\n        style: this.modalStyles,\n        attrs: this.computedModalAttrs,\n        on: {\n          keydown: this.onEsc,\n          click: this.onClickOut\n        },\n        directives: [{\n          name: 'show',\n          value: this.isVisible\n        }],\n        ref: 'modal'\n      }, [$modalDialog]); // Wrap modal in transition\n      // Sadly, we can't use `BVTransition` here due to the differences in\n      // transition durations for `.modal` and `.modal-dialog`\n      // At least until https://github.com/vuejs/vue/issues/9986 is resolved\n\n      $modal = h('transition', {\n        props: {\n          enterClass: '',\n          enterToClass: '',\n          enterActiveClass: '',\n          leaveClass: '',\n          leaveActiveClass: '',\n          leaveToClass: ''\n        },\n        on: {\n          beforeEnter: this.onBeforeEnter,\n          enter: this.onEnter,\n          afterEnter: this.onAfterEnter,\n          beforeLeave: this.onBeforeLeave,\n          leave: this.onLeave,\n          afterLeave: this.onAfterLeave\n        }\n      }, [$modal]); // Modal backdrop\n\n      var $backdrop = h();\n\n      if (!this.hideBackdrop && this.isVisible) {\n        $backdrop = h('div', {\n          staticClass: 'modal-backdrop',\n          attrs: {\n            id: this.modalBackdropId\n          }\n        }, // TODO: Rename slot to `backdrop` and deprecate `modal-backdrop`\n        this.normalizeSlot(SLOT_NAME_MODAL_BACKDROP));\n      }\n\n      $backdrop = h(BVTransition, {\n        props: {\n          noFade: this.noFade\n        }\n      }, [$backdrop]); // Assemble modal and backdrop in an outer <div>\n\n      return h('div', {\n        style: this.modalOuterStyle,\n        attrs: this.computedAttrs,\n        key: \"modal-outer-\".concat(this[COMPONENT_UID_KEY])\n      }, [$modal, $backdrop]);\n    }\n  },\n  render: function render(h) {\n    if (this.static) {\n      return this.lazy && this.isHidden ? h() : this.makeModal(h);\n    } else {\n      return this.isHidden ? h() : h(BVTransporter, [this.makeModal(h)]);\n    }\n  }\n});","map":{"version":3,"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","COMPONENT_UID_KEY","Vue","NAME_MODAL","IS_BROWSER","EVENT_NAME_CANCEL","EVENT_NAME_CHANGE","EVENT_NAME_CLOSE","EVENT_NAME_HIDDEN","EVENT_NAME_HIDE","EVENT_NAME_OK","EVENT_NAME_SHOW","EVENT_NAME_SHOWN","EVENT_NAME_TOGGLE","EVENT_OPTIONS_NO_CAPTURE","CODE_ESC","PROP_TYPE_ARRAY_OBJECT_STRING","PROP_TYPE_ARRAY_STRING","PROP_TYPE_BOOLEAN","PROP_TYPE_OBJECT","PROP_TYPE_STRING","HTMLElement","SLOT_NAME_DEFAULT","SLOT_NAME_MODAL_BACKDROP","SLOT_NAME_MODAL_CANCEL","SLOT_NAME_MODAL_FOOTER","SLOT_NAME_MODAL_HEADER","SLOT_NAME_MODAL_HEADER_CLOSE","SLOT_NAME_MODAL_OK","SLOT_NAME_MODAL_TITLE","arrayIncludes","concat","attemptFocus","closest","contains","getActiveElement","_getActiveElement","getTabables","requestAF","select","getRootActionEventName","getRootEventName","eventOn","eventOff","htmlOrText","identity","isString","isUndefinedOrNull","makeModelMixin","sortKeys","observeDom","makeProp","makePropsConfigurable","attrsMixin","idMixin","props","idProps","listenOnDocumentMixin","listenOnRootMixin","listenOnWindowMixin","normalizeSlotMixin","scopedStyleMixin","BButton","BButtonClose","BVTransition","BVTransporter","BvModalEvent","modalManager","_makeModelMixin","type","defaultValue","event","modelMixin","mixin","modelProps","MODEL_PROP_NAME","prop","MODEL_EVENT_NAME","TRIGGER_BACKDROP","TRIGGER_ESC","TRIGGER_FORCE","TRIGGER_TOGGLE","BUTTON_CANCEL","BUTTON_CLOSE","BUTTON_OK","BUTTONS","OBSERVER_CONFIG","subtree","childList","characterData","attributes","attributeFilter","ariaLabel","autoFocusButton","bodyBgVariant","bodyClass","bodyTextVariant","busy","buttonSize","cancelDisabled","cancelTitle","cancelTitleHtml","cancelVariant","centered","contentClass","dialogClass","footerBgVariant","footerBorderVariant","footerClass","footerTag","footerTextVariant","headerBgVariant","headerBorderVariant","headerClass","headerCloseContent","headerCloseLabel","headerCloseVariant","headerTag","headerTextVariant","hideBackdrop","hideFooter","hideHeader","hideHeaderClose","ignoreEnforceFocusSelector","lazy","modalClass","noCloseOnBackdrop","noCloseOnEsc","noEnforceFocus","noFade","noStacking","okDisabled","okOnly","okTitle","okTitleHtml","okVariant","returnFocus","scrollable","size","static","title","titleClass","titleHtml","titleSrOnly","titleTag","BModal","extend","name","mixins","inheritAttrs","data","isHidden","isVisible","isTransitioning","isShow","isBlock","isOpening","isClosing","ignoreBackdropClick","isModalOverflowing","scrollbarWidth","zIndex","getBaseZIndex","isTop","isBodyOverflowing","computed","modalId","safeId","modalOuterId","modalHeaderId","modalBodyId","modalTitleId","modalContentId","modalFooterId","modalBackdropId","modalClasses","fade","show","modalStyles","sbWidth","paddingLeft","paddingRight","display","dialogClasses","_ref","headerClasses","_ref2","titleClasses","bodyClasses","_ref3","footerClasses","_ref4","modalOuterStyle","position","slotScope","cancel","onCancel","close","onClose","hide","ok","onOk","visible","computeIgnoreEnforceFocusSelector","join","trim","computedAttrs","scopedStyleAttrs","bvAttrs","id","computedModalAttrs","role","hasNormalizedSlot","watch","newValue","oldValue","created","$_observer","$_returnFocus","mounted","listenOnRoot","showHandler","hideHandler","toggleHandler","modalListener","$nextTick","beforeDestroy","unregisterModal","setObserver","methods","on","undefined","disconnect","$refs","content","checkModalOverflow","bind","updateModel","$emit","buildEvent","options","cancelable","modal","$el","relatedTarget","trigger","vueTarget","componentId","$once","showEvent","emitEvent","defaultPrevented","doShow","hideEvent","toggle","triggerEl","activeElement","document","body","focus","_this","modalsAreOpen","listenOnRootOnce","registerModal","onBeforeEnter","setResizeEvent","onEnter","_this2","onAfterEnter","_this3","setEnforceFocus","focusFirst","onBeforeLeave","onLeave","onAfterLeave","_this4","returnFocusTo","bvEvent","emitOnRoot","onDialogMousedown","_this5","onceModalMouseup","onClickOut","onEsc","keyCode","focusHandler","tabables","bottomTrap","topTrap","preventScroll","listenDocument","listenWindow","_this6","autoFocus","el","scrollTop","scrollHeight","documentElement","clientHeight","makeModal","h","$header","$modalHeader","normalizeSlot","$closeButton","disabled","textVariant","click","ref","staticClass","class","attrs","domProps","$body","$footer","$modalFooter","$cancelButton","variant","$okButton","$modalContent","tabindex","$tabTrapTop","$tabTrapBottom","$modalDialog","mousedown","$modal","style","keydown","directives","enterClass","enterToClass","enterActiveClass","leaveClass","leaveActiveClass","leaveToClass","beforeEnter","enter","afterEnter","beforeLeave","leave","afterLeave","$backdrop","render"],"sources":["C:/Users/rayss/dev-fullstack-i/node_modules/bootstrap-vue/esm/components/modal/modal.js"],"sourcesContent":["function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { COMPONENT_UID_KEY, Vue } from '../../vue';\nimport { NAME_MODAL } from '../../constants/components';\nimport { IS_BROWSER } from '../../constants/env';\nimport { EVENT_NAME_CANCEL, EVENT_NAME_CHANGE, EVENT_NAME_CLOSE, EVENT_NAME_HIDDEN, EVENT_NAME_HIDE, EVENT_NAME_OK, EVENT_NAME_SHOW, EVENT_NAME_SHOWN, EVENT_NAME_TOGGLE, EVENT_OPTIONS_NO_CAPTURE } from '../../constants/events';\nimport { CODE_ESC } from '../../constants/key-codes';\nimport { PROP_TYPE_ARRAY_OBJECT_STRING, PROP_TYPE_ARRAY_STRING, PROP_TYPE_BOOLEAN, PROP_TYPE_OBJECT, PROP_TYPE_STRING } from '../../constants/props';\nimport { HTMLElement } from '../../constants/safe-types';\nimport { SLOT_NAME_DEFAULT, SLOT_NAME_MODAL_BACKDROP, SLOT_NAME_MODAL_CANCEL, SLOT_NAME_MODAL_FOOTER, SLOT_NAME_MODAL_HEADER, SLOT_NAME_MODAL_HEADER_CLOSE, SLOT_NAME_MODAL_OK, SLOT_NAME_MODAL_TITLE } from '../../constants/slots';\nimport { arrayIncludes, concat } from '../../utils/array';\nimport { attemptFocus, closest, contains, getActiveElement as _getActiveElement, getTabables, requestAF, select } from '../../utils/dom';\nimport { getRootActionEventName, getRootEventName, eventOn, eventOff } from '../../utils/events';\nimport { htmlOrText } from '../../utils/html';\nimport { identity } from '../../utils/identity';\nimport { isString, isUndefinedOrNull } from '../../utils/inspect';\nimport { makeModelMixin } from '../../utils/model';\nimport { sortKeys } from '../../utils/object';\nimport { observeDom } from '../../utils/observe-dom';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { attrsMixin } from '../../mixins/attrs';\nimport { idMixin, props as idProps } from '../../mixins/id';\nimport { listenOnDocumentMixin } from '../../mixins/listen-on-document';\nimport { listenOnRootMixin } from '../../mixins/listen-on-root';\nimport { listenOnWindowMixin } from '../../mixins/listen-on-window';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot';\nimport { scopedStyleMixin } from '../../mixins/scoped-style';\nimport { BButton } from '../button/button';\nimport { BButtonClose } from '../button/button-close';\nimport { BVTransition } from '../transition/bv-transition';\nimport { BVTransporter } from '../transporter/transporter';\nimport { BvModalEvent } from './helpers/bv-modal-event.class';\nimport { modalManager } from './helpers/modal-manager'; // --- Constants ---\n\nvar _makeModelMixin = makeModelMixin('visible', {\n  type: PROP_TYPE_BOOLEAN,\n  defaultValue: false,\n  event: EVENT_NAME_CHANGE\n}),\n    modelMixin = _makeModelMixin.mixin,\n    modelProps = _makeModelMixin.props,\n    MODEL_PROP_NAME = _makeModelMixin.prop,\n    MODEL_EVENT_NAME = _makeModelMixin.event;\n\nvar TRIGGER_BACKDROP = 'backdrop';\nvar TRIGGER_ESC = 'esc';\nvar TRIGGER_FORCE = 'FORCE';\nvar TRIGGER_TOGGLE = 'toggle';\nvar BUTTON_CANCEL = 'cancel'; // TODO: This should be renamed to 'close'\n\nvar BUTTON_CLOSE = 'headerclose';\nvar BUTTON_OK = 'ok';\nvar BUTTONS = [BUTTON_CANCEL, BUTTON_CLOSE, BUTTON_OK]; // `ObserveDom` config to detect changes in modal content\n// so that we can adjust the modal padding if needed\n\nvar OBSERVER_CONFIG = {\n  subtree: true,\n  childList: true,\n  characterData: true,\n  attributes: true,\n  attributeFilter: ['style', 'class']\n}; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread({}, idProps), modelProps), {}, {\n  ariaLabel: makeProp(PROP_TYPE_STRING),\n  autoFocusButton: makeProp(PROP_TYPE_STRING, null,\n  /* istanbul ignore next */\n  function (value) {\n    return isUndefinedOrNull(value) || arrayIncludes(BUTTONS, value);\n  }),\n  bodyBgVariant: makeProp(PROP_TYPE_STRING),\n  bodyClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  bodyTextVariant: makeProp(PROP_TYPE_STRING),\n  busy: makeProp(PROP_TYPE_BOOLEAN, false),\n  buttonSize: makeProp(PROP_TYPE_STRING),\n  cancelDisabled: makeProp(PROP_TYPE_BOOLEAN, false),\n  cancelTitle: makeProp(PROP_TYPE_STRING, 'Cancel'),\n  cancelTitleHtml: makeProp(PROP_TYPE_STRING),\n  cancelVariant: makeProp(PROP_TYPE_STRING, 'secondary'),\n  centered: makeProp(PROP_TYPE_BOOLEAN, false),\n  contentClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  dialogClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  footerBgVariant: makeProp(PROP_TYPE_STRING),\n  footerBorderVariant: makeProp(PROP_TYPE_STRING),\n  footerClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  footerTag: makeProp(PROP_TYPE_STRING, 'footer'),\n  footerTextVariant: makeProp(PROP_TYPE_STRING),\n  headerBgVariant: makeProp(PROP_TYPE_STRING),\n  headerBorderVariant: makeProp(PROP_TYPE_STRING),\n  headerClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  headerCloseContent: makeProp(PROP_TYPE_STRING, '&times;'),\n  headerCloseLabel: makeProp(PROP_TYPE_STRING, 'Close'),\n  headerCloseVariant: makeProp(PROP_TYPE_STRING),\n  headerTag: makeProp(PROP_TYPE_STRING, 'header'),\n  headerTextVariant: makeProp(PROP_TYPE_STRING),\n  // TODO: Rename to `noBackdrop` and deprecate `hideBackdrop`\n  hideBackdrop: makeProp(PROP_TYPE_BOOLEAN, false),\n  // TODO: Rename to `noFooter` and deprecate `hideFooter`\n  hideFooter: makeProp(PROP_TYPE_BOOLEAN, false),\n  // TODO: Rename to `noHeader` and deprecate `hideHeader`\n  hideHeader: makeProp(PROP_TYPE_BOOLEAN, false),\n  // TODO: Rename to `noHeaderClose` and deprecate `hideHeaderClose`\n  hideHeaderClose: makeProp(PROP_TYPE_BOOLEAN, false),\n  ignoreEnforceFocusSelector: makeProp(PROP_TYPE_ARRAY_STRING),\n  lazy: makeProp(PROP_TYPE_BOOLEAN, false),\n  modalClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  noCloseOnBackdrop: makeProp(PROP_TYPE_BOOLEAN, false),\n  noCloseOnEsc: makeProp(PROP_TYPE_BOOLEAN, false),\n  noEnforceFocus: makeProp(PROP_TYPE_BOOLEAN, false),\n  noFade: makeProp(PROP_TYPE_BOOLEAN, false),\n  noStacking: makeProp(PROP_TYPE_BOOLEAN, false),\n  okDisabled: makeProp(PROP_TYPE_BOOLEAN, false),\n  okOnly: makeProp(PROP_TYPE_BOOLEAN, false),\n  okTitle: makeProp(PROP_TYPE_STRING, 'OK'),\n  okTitleHtml: makeProp(PROP_TYPE_STRING),\n  okVariant: makeProp(PROP_TYPE_STRING, 'primary'),\n  // HTML Element, CSS selector string or Vue component instance\n  returnFocus: makeProp([HTMLElement, PROP_TYPE_OBJECT, PROP_TYPE_STRING]),\n  scrollable: makeProp(PROP_TYPE_BOOLEAN, false),\n  size: makeProp(PROP_TYPE_STRING, 'md'),\n  static: makeProp(PROP_TYPE_BOOLEAN, false),\n  title: makeProp(PROP_TYPE_STRING),\n  titleClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  titleHtml: makeProp(PROP_TYPE_STRING),\n  titleSrOnly: makeProp(PROP_TYPE_BOOLEAN, false),\n  titleTag: makeProp(PROP_TYPE_STRING, 'h5')\n})), NAME_MODAL); // --- Main component ---\n// @vue/component\n\nexport var BModal = /*#__PURE__*/Vue.extend({\n  name: NAME_MODAL,\n  mixins: [attrsMixin, idMixin, modelMixin, listenOnDocumentMixin, listenOnRootMixin, listenOnWindowMixin, normalizeSlotMixin, scopedStyleMixin],\n  inheritAttrs: false,\n  props: props,\n  data: function data() {\n    return {\n      isHidden: true,\n      // If modal should not be in document\n      isVisible: false,\n      // Controls modal visible state\n      isTransitioning: false,\n      // Used for style control\n      isShow: false,\n      // Used for style control\n      isBlock: false,\n      // Used for style control\n      isOpening: false,\n      // To signal that the modal is in the process of opening\n      isClosing: false,\n      // To signal that the modal is in the process of closing\n      ignoreBackdropClick: false,\n      // Used to signify if click out listener should ignore the click\n      isModalOverflowing: false,\n      // The following items are controlled by the modalManager instance\n      scrollbarWidth: 0,\n      zIndex: modalManager.getBaseZIndex(),\n      isTop: true,\n      isBodyOverflowing: false\n    };\n  },\n  computed: {\n    modalId: function modalId() {\n      return this.safeId();\n    },\n    modalOuterId: function modalOuterId() {\n      return this.safeId('__BV_modal_outer_');\n    },\n    modalHeaderId: function modalHeaderId() {\n      return this.safeId('__BV_modal_header_');\n    },\n    modalBodyId: function modalBodyId() {\n      return this.safeId('__BV_modal_body_');\n    },\n    modalTitleId: function modalTitleId() {\n      return this.safeId('__BV_modal_title_');\n    },\n    modalContentId: function modalContentId() {\n      return this.safeId('__BV_modal_content_');\n    },\n    modalFooterId: function modalFooterId() {\n      return this.safeId('__BV_modal_footer_');\n    },\n    modalBackdropId: function modalBackdropId() {\n      return this.safeId('__BV_modal_backdrop_');\n    },\n    modalClasses: function modalClasses() {\n      return [{\n        fade: !this.noFade,\n        show: this.isShow\n      }, this.modalClass];\n    },\n    modalStyles: function modalStyles() {\n      var sbWidth = \"\".concat(this.scrollbarWidth, \"px\");\n      return {\n        paddingLeft: !this.isBodyOverflowing && this.isModalOverflowing ? sbWidth : '',\n        paddingRight: this.isBodyOverflowing && !this.isModalOverflowing ? sbWidth : '',\n        // Needed to fix issue https://github.com/bootstrap-vue/bootstrap-vue/issues/3457\n        // Even though we are using v-show, we must ensure 'none' is restored in the styles\n        display: this.isBlock ? 'block' : 'none'\n      };\n    },\n    dialogClasses: function dialogClasses() {\n      var _ref;\n\n      return [(_ref = {}, _defineProperty(_ref, \"modal-\".concat(this.size), this.size), _defineProperty(_ref, 'modal-dialog-centered', this.centered), _defineProperty(_ref, 'modal-dialog-scrollable', this.scrollable), _ref), this.dialogClass];\n    },\n    headerClasses: function headerClasses() {\n      var _ref2;\n\n      return [(_ref2 = {}, _defineProperty(_ref2, \"bg-\".concat(this.headerBgVariant), this.headerBgVariant), _defineProperty(_ref2, \"text-\".concat(this.headerTextVariant), this.headerTextVariant), _defineProperty(_ref2, \"border-\".concat(this.headerBorderVariant), this.headerBorderVariant), _ref2), this.headerClass];\n    },\n    titleClasses: function titleClasses() {\n      return [{\n        'sr-only': this.titleSrOnly\n      }, this.titleClass];\n    },\n    bodyClasses: function bodyClasses() {\n      var _ref3;\n\n      return [(_ref3 = {}, _defineProperty(_ref3, \"bg-\".concat(this.bodyBgVariant), this.bodyBgVariant), _defineProperty(_ref3, \"text-\".concat(this.bodyTextVariant), this.bodyTextVariant), _ref3), this.bodyClass];\n    },\n    footerClasses: function footerClasses() {\n      var _ref4;\n\n      return [(_ref4 = {}, _defineProperty(_ref4, \"bg-\".concat(this.footerBgVariant), this.footerBgVariant), _defineProperty(_ref4, \"text-\".concat(this.footerTextVariant), this.footerTextVariant), _defineProperty(_ref4, \"border-\".concat(this.footerBorderVariant), this.footerBorderVariant), _ref4), this.footerClass];\n    },\n    modalOuterStyle: function modalOuterStyle() {\n      // Styles needed for proper stacking of modals\n      return {\n        position: 'absolute',\n        zIndex: this.zIndex\n      };\n    },\n    slotScope: function slotScope() {\n      return {\n        cancel: this.onCancel,\n        close: this.onClose,\n        hide: this.hide,\n        ok: this.onOk,\n        visible: this.isVisible\n      };\n    },\n    computeIgnoreEnforceFocusSelector: function computeIgnoreEnforceFocusSelector() {\n      // Normalize to an single selector with selectors separated by `,`\n      return concat(this.ignoreEnforceFocusSelector).filter(identity).join(',').trim();\n    },\n    computedAttrs: function computedAttrs() {\n      // If the parent has a scoped style attribute, and the modal\n      // is portalled, add the scoped attribute to the modal wrapper\n      var scopedStyleAttrs = !this.static ? this.scopedStyleAttrs : {};\n      return _objectSpread(_objectSpread(_objectSpread({}, scopedStyleAttrs), this.bvAttrs), {}, {\n        id: this.modalOuterId\n      });\n    },\n    computedModalAttrs: function computedModalAttrs() {\n      var isVisible = this.isVisible,\n          ariaLabel = this.ariaLabel;\n      return {\n        id: this.modalId,\n        role: 'dialog',\n        'aria-hidden': isVisible ? null : 'true',\n        'aria-modal': isVisible ? 'true' : null,\n        'aria-label': ariaLabel,\n        'aria-labelledby': this.hideHeader || ariaLabel || // TODO: Rename slot to `title` and deprecate `modal-title`\n        !(this.hasNormalizedSlot(SLOT_NAME_MODAL_TITLE) || this.titleHtml || this.title) ? null : this.modalTitleId,\n        'aria-describedby': this.modalBodyId\n      };\n    }\n  },\n  watch: _defineProperty({}, MODEL_PROP_NAME, function (newValue, oldValue) {\n    if (newValue !== oldValue) {\n      this[newValue ? 'show' : 'hide']();\n    }\n  }),\n  created: function created() {\n    // Define non-reactive properties\n    this.$_observer = null;\n    this.$_returnFocus = this.returnFocus || null;\n  },\n  mounted: function mounted() {\n    // Set initial z-index as queried from the DOM\n    this.zIndex = modalManager.getBaseZIndex(); // Listen for events from others to either open or close ourselves\n    // and listen to all modals to enable/disable enforce focus\n\n    this.listenOnRoot(getRootActionEventName(NAME_MODAL, EVENT_NAME_SHOW), this.showHandler);\n    this.listenOnRoot(getRootActionEventName(NAME_MODAL, EVENT_NAME_HIDE), this.hideHandler);\n    this.listenOnRoot(getRootActionEventName(NAME_MODAL, EVENT_NAME_TOGGLE), this.toggleHandler); // Listen for `bv:modal::show events`, and close ourselves if the\n    // opening modal not us\n\n    this.listenOnRoot(getRootEventName(NAME_MODAL, EVENT_NAME_SHOW), this.modalListener); // Initially show modal?\n\n    if (this[MODEL_PROP_NAME] === true) {\n      this.$nextTick(this.show);\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    // Ensure everything is back to normal\n    modalManager.unregisterModal(this);\n    this.setObserver(false);\n\n    if (this.isVisible) {\n      this.isVisible = false;\n      this.isShow = false;\n      this.isTransitioning = false;\n    }\n  },\n  methods: {\n    setObserver: function setObserver() {\n      var on = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      this.$_observer && this.$_observer.disconnect();\n      this.$_observer = null;\n\n      if (on) {\n        this.$_observer = observeDom(this.$refs.content, this.checkModalOverflow.bind(this), OBSERVER_CONFIG);\n      }\n    },\n    // Private method to update the v-model\n    updateModel: function updateModel(value) {\n      if (value !== this[MODEL_PROP_NAME]) {\n        this.$emit(MODEL_EVENT_NAME, value);\n      }\n    },\n    // Private method to create a BvModalEvent object\n    buildEvent: function buildEvent(type) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return new BvModalEvent(type, _objectSpread(_objectSpread({\n        // Default options\n        cancelable: false,\n        target: this.$refs.modal || this.$el || null,\n        relatedTarget: null,\n        trigger: null\n      }, options), {}, {\n        // Options that can't be overridden\n        vueTarget: this,\n        componentId: this.modalId\n      }));\n    },\n    // Public method to show modal\n    show: function show() {\n      if (this.isVisible || this.isOpening) {\n        // If already open, or in the process of opening, do nothing\n\n        /* istanbul ignore next */\n        return;\n      }\n      /* istanbul ignore next */\n\n\n      if (this.isClosing) {\n        // If we are in the process of closing, wait until hidden before re-opening\n\n        /* istanbul ignore next */\n        this.$once(EVENT_NAME_HIDDEN, this.show);\n        /* istanbul ignore next */\n\n        return;\n      }\n\n      this.isOpening = true; // Set the element to return focus to when closed\n\n      this.$_returnFocus = this.$_returnFocus || this.getActiveElement();\n      var showEvent = this.buildEvent(EVENT_NAME_SHOW, {\n        cancelable: true\n      });\n      this.emitEvent(showEvent); // Don't show if canceled\n\n      if (showEvent.defaultPrevented || this.isVisible) {\n        this.isOpening = false; // Ensure the v-model reflects the current state\n\n        this.updateModel(false);\n        return;\n      } // Show the modal\n\n\n      this.doShow();\n    },\n    // Public method to hide modal\n    hide: function hide() {\n      var trigger = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n      if (!this.isVisible || this.isClosing) {\n        /* istanbul ignore next */\n        return;\n      }\n\n      this.isClosing = true;\n      var hideEvent = this.buildEvent(EVENT_NAME_HIDE, {\n        cancelable: trigger !== TRIGGER_FORCE,\n        trigger: trigger || null\n      }); // We emit specific event for one of the three built-in buttons\n\n      if (trigger === BUTTON_OK) {\n        this.$emit(EVENT_NAME_OK, hideEvent);\n      } else if (trigger === BUTTON_CANCEL) {\n        this.$emit(EVENT_NAME_CANCEL, hideEvent);\n      } else if (trigger === BUTTON_CLOSE) {\n        this.$emit(EVENT_NAME_CLOSE, hideEvent);\n      }\n\n      this.emitEvent(hideEvent); // Hide if not canceled\n\n      if (hideEvent.defaultPrevented || !this.isVisible) {\n        this.isClosing = false; // Ensure v-model reflects current state\n\n        this.updateModel(true);\n        return;\n      } // Stop observing for content changes\n\n\n      this.setObserver(false); // Trigger the hide transition\n\n      this.isVisible = false; // Update the v-model\n\n      this.updateModel(false);\n    },\n    // Public method to toggle modal visibility\n    toggle: function toggle(triggerEl) {\n      if (triggerEl) {\n        this.$_returnFocus = triggerEl;\n      }\n\n      if (this.isVisible) {\n        this.hide(TRIGGER_TOGGLE);\n      } else {\n        this.show();\n      }\n    },\n    // Private method to get the current document active element\n    getActiveElement: function getActiveElement() {\n      // Returning focus to `document.body` may cause unwanted scrolls,\n      // so we exclude setting focus on body\n      var activeElement = _getActiveElement(IS_BROWSER ? [document.body] : []); // Preset the fallback return focus value if it is not set\n      // `document.activeElement` should be the trigger element that was clicked or\n      // in the case of using the v-model, which ever element has current focus\n      // Will be overridden by some commands such as toggle, etc.\n      // Note: On IE 11, `document.activeElement` may be `null`\n      // So we test it for truthiness first\n      // https://github.com/bootstrap-vue/bootstrap-vue/issues/3206\n\n\n      return activeElement && activeElement.focus ? activeElement : null;\n    },\n    // Private method to finish showing modal\n    doShow: function doShow() {\n      var _this = this;\n\n      /* istanbul ignore next: commenting out for now until we can test stacking */\n      if (modalManager.modalsAreOpen && this.noStacking) {\n        // If another modal(s) is already open, wait for it(them) to close\n        this.listenOnRootOnce(getRootEventName(NAME_MODAL, EVENT_NAME_HIDDEN), this.doShow);\n        return;\n      }\n\n      modalManager.registerModal(this); // Place modal in DOM\n\n      this.isHidden = false;\n      this.$nextTick(function () {\n        // We do this in `$nextTick()` to ensure the modal is in DOM first\n        // before we show it\n        _this.isVisible = true;\n        _this.isOpening = false; // Update the v-model\n\n        _this.updateModel(true);\n\n        _this.$nextTick(function () {\n          // Observe changes in modal content and adjust if necessary\n          // In a `$nextTick()` in case modal content is lazy\n          _this.setObserver(true);\n        });\n      });\n    },\n    // Transition handlers\n    onBeforeEnter: function onBeforeEnter() {\n      this.isTransitioning = true;\n      this.setResizeEvent(true);\n    },\n    onEnter: function onEnter() {\n      var _this2 = this;\n\n      this.isBlock = true; // We add the `show` class 1 frame later\n      // `requestAF()` runs the callback before the next repaint, so we need\n      // two calls to guarantee the next frame has been rendered\n\n      requestAF(function () {\n        requestAF(function () {\n          _this2.isShow = true;\n        });\n      });\n    },\n    onAfterEnter: function onAfterEnter() {\n      var _this3 = this;\n\n      this.checkModalOverflow();\n      this.isTransitioning = false; // We use `requestAF()` to allow transition hooks to complete\n      // before passing control over to the other handlers\n      // This will allow users to not have to use `$nextTick()` or `requestAF()`\n      // when trying to pre-focus an element\n\n      requestAF(function () {\n        _this3.emitEvent(_this3.buildEvent(EVENT_NAME_SHOWN));\n\n        _this3.setEnforceFocus(true);\n\n        _this3.$nextTick(function () {\n          // Delayed in a `$nextTick()` to allow users time to pre-focus\n          // an element if the wish\n          _this3.focusFirst();\n        });\n      });\n    },\n    onBeforeLeave: function onBeforeLeave() {\n      this.isTransitioning = true;\n      this.setResizeEvent(false);\n      this.setEnforceFocus(false);\n    },\n    onLeave: function onLeave() {\n      // Remove the 'show' class\n      this.isShow = false;\n    },\n    onAfterLeave: function onAfterLeave() {\n      var _this4 = this;\n\n      this.isBlock = false;\n      this.isTransitioning = false;\n      this.isModalOverflowing = false;\n      this.isHidden = true;\n      this.$nextTick(function () {\n        _this4.isClosing = false;\n        modalManager.unregisterModal(_this4);\n\n        _this4.returnFocusTo(); // TODO: Need to find a way to pass the `trigger` property\n        //       to the `hidden` event, not just only the `hide` event\n\n\n        _this4.emitEvent(_this4.buildEvent(EVENT_NAME_HIDDEN));\n      });\n    },\n    emitEvent: function emitEvent(bvEvent) {\n      var type = bvEvent.type; // We emit on `$root` first in case a global listener wants to cancel\n      // the event first before the instance emits its event\n\n      this.emitOnRoot(getRootEventName(NAME_MODAL, type), bvEvent, bvEvent.componentId);\n      this.$emit(type, bvEvent);\n    },\n    // UI event handlers\n    onDialogMousedown: function onDialogMousedown() {\n      var _this5 = this;\n\n      // Watch to see if the matching mouseup event occurs outside the dialog\n      // And if it does, cancel the clickOut handler\n      var modal = this.$refs.modal;\n\n      var onceModalMouseup = function onceModalMouseup(event) {\n        eventOff(modal, 'mouseup', onceModalMouseup, EVENT_OPTIONS_NO_CAPTURE);\n\n        if (event.target === modal) {\n          _this5.ignoreBackdropClick = true;\n        }\n      };\n\n      eventOn(modal, 'mouseup', onceModalMouseup, EVENT_OPTIONS_NO_CAPTURE);\n    },\n    onClickOut: function onClickOut(event) {\n      if (this.ignoreBackdropClick) {\n        // Click was initiated inside the modal content, but finished outside.\n        // Set by the above onDialogMousedown handler\n        this.ignoreBackdropClick = false;\n        return;\n      } // Do nothing if not visible, backdrop click disabled, or element\n      // that generated click event is no longer in document body\n\n\n      if (!this.isVisible || this.noCloseOnBackdrop || !contains(document.body, event.target)) {\n        return;\n      } // If backdrop clicked, hide modal\n\n\n      if (!contains(this.$refs.content, event.target)) {\n        this.hide(TRIGGER_BACKDROP);\n      }\n    },\n    onOk: function onOk() {\n      this.hide(BUTTON_OK);\n    },\n    onCancel: function onCancel() {\n      this.hide(BUTTON_CANCEL);\n    },\n    onClose: function onClose() {\n      this.hide(BUTTON_CLOSE);\n    },\n    onEsc: function onEsc(event) {\n      // If ESC pressed, hide modal\n      if (event.keyCode === CODE_ESC && this.isVisible && !this.noCloseOnEsc) {\n        this.hide(TRIGGER_ESC);\n      }\n    },\n    // Document focusin listener\n    focusHandler: function focusHandler(event) {\n      // If focus leaves modal content, bring it back\n      var content = this.$refs.content;\n      var target = event.target;\n\n      if (this.noEnforceFocus || !this.isTop || !this.isVisible || !content || document === target || contains(content, target) || this.computeIgnoreEnforceFocusSelector && closest(this.computeIgnoreEnforceFocusSelector, target, true)) {\n        return;\n      }\n\n      var tabables = getTabables(this.$refs.content);\n      var bottomTrap = this.$refs['bottom-trap'];\n      var topTrap = this.$refs['top-trap'];\n\n      if (bottomTrap && target === bottomTrap) {\n        // If user pressed TAB out of modal into our bottom trab trap element\n        // Find the first tabable element in the modal content and focus it\n        if (attemptFocus(tabables[0])) {\n          // Focus was successful\n          return;\n        }\n      } else if (topTrap && target === topTrap) {\n        // If user pressed CTRL-TAB out of modal and into our top tab trap element\n        // Find the last tabable element in the modal content and focus it\n        if (attemptFocus(tabables[tabables.length - 1])) {\n          // Focus was successful\n          return;\n        }\n      } // Otherwise focus the modal content container\n\n\n      attemptFocus(content, {\n        preventScroll: true\n      });\n    },\n    // Turn on/off focusin listener\n    setEnforceFocus: function setEnforceFocus(on) {\n      this.listenDocument(on, 'focusin', this.focusHandler);\n    },\n    // Resize listener\n    setResizeEvent: function setResizeEvent(on) {\n      this.listenWindow(on, 'resize', this.checkModalOverflow);\n      this.listenWindow(on, 'orientationchange', this.checkModalOverflow);\n    },\n    // Root listener handlers\n    showHandler: function showHandler(id, triggerEl) {\n      if (id === this.modalId) {\n        this.$_returnFocus = triggerEl || this.getActiveElement();\n        this.show();\n      }\n    },\n    hideHandler: function hideHandler(id) {\n      if (id === this.modalId) {\n        this.hide('event');\n      }\n    },\n    toggleHandler: function toggleHandler(id, triggerEl) {\n      if (id === this.modalId) {\n        this.toggle(triggerEl);\n      }\n    },\n    modalListener: function modalListener(bvEvent) {\n      // If another modal opens, close this one if stacking not permitted\n      if (this.noStacking && bvEvent.vueTarget !== this) {\n        this.hide();\n      }\n    },\n    // Focus control handlers\n    focusFirst: function focusFirst() {\n      var _this6 = this;\n\n      // Don't try and focus if we are SSR\n      if (IS_BROWSER) {\n        requestAF(function () {\n          var modal = _this6.$refs.modal;\n          var content = _this6.$refs.content;\n\n          var activeElement = _this6.getActiveElement(); // If the modal contains the activeElement, we don't do anything\n\n\n          if (modal && content && !(activeElement && contains(content, activeElement))) {\n            var ok = _this6.$refs['ok-button'];\n            var cancel = _this6.$refs['cancel-button'];\n            var close = _this6.$refs['close-button']; // Focus the appropriate button or modal content wrapper\n\n            var autoFocus = _this6.autoFocusButton;\n            /* istanbul ignore next */\n\n            var el = autoFocus === BUTTON_OK && ok ? ok.$el || ok : autoFocus === BUTTON_CANCEL && cancel ? cancel.$el || cancel : autoFocus === BUTTON_CLOSE && close ? close.$el || close : content; // Focus the element\n\n            attemptFocus(el);\n\n            if (el === content) {\n              // Make sure top of modal is showing (if longer than the viewport)\n              _this6.$nextTick(function () {\n                modal.scrollTop = 0;\n              });\n            }\n          }\n        });\n      }\n    },\n    returnFocusTo: function returnFocusTo() {\n      // Prefer `returnFocus` prop over event specified\n      // `return_focus` value\n      var el = this.returnFocus || this.$_returnFocus || null;\n      this.$_returnFocus = null;\n      this.$nextTick(function () {\n        // Is el a string CSS selector?\n        el = isString(el) ? select(el) : el;\n\n        if (el) {\n          // Possibly could be a component reference\n          el = el.$el || el;\n          attemptFocus(el);\n        }\n      });\n    },\n    checkModalOverflow: function checkModalOverflow() {\n      if (this.isVisible) {\n        var modal = this.$refs.modal;\n        this.isModalOverflowing = modal.scrollHeight > document.documentElement.clientHeight;\n      }\n    },\n    makeModal: function makeModal(h) {\n      // Modal header\n      var $header = h();\n\n      if (!this.hideHeader) {\n        // TODO: Rename slot to `header` and deprecate `modal-header`\n        var $modalHeader = this.normalizeSlot(SLOT_NAME_MODAL_HEADER, this.slotScope);\n\n        if (!$modalHeader) {\n          var $closeButton = h();\n\n          if (!this.hideHeaderClose) {\n            $closeButton = h(BButtonClose, {\n              props: {\n                content: this.headerCloseContent,\n                disabled: this.isTransitioning,\n                ariaLabel: this.headerCloseLabel,\n                textVariant: this.headerCloseVariant || this.headerTextVariant\n              },\n              on: {\n                click: this.onClose\n              },\n              ref: 'close-button'\n            }, // TODO: Rename slot to `header-close` and deprecate `modal-header-close`\n            [this.normalizeSlot(SLOT_NAME_MODAL_HEADER_CLOSE)]);\n          }\n\n          $modalHeader = [h(this.titleTag, {\n            staticClass: 'modal-title',\n            class: this.titleClasses,\n            attrs: {\n              id: this.modalTitleId\n            },\n            // TODO: Rename slot to `title` and deprecate `modal-title`\n            domProps: this.hasNormalizedSlot(SLOT_NAME_MODAL_TITLE) ? {} : htmlOrText(this.titleHtml, this.title)\n          }, // TODO: Rename slot to `title` and deprecate `modal-title`\n          this.normalizeSlot(SLOT_NAME_MODAL_TITLE, this.slotScope)), $closeButton];\n        }\n\n        $header = h(this.headerTag, {\n          staticClass: 'modal-header',\n          class: this.headerClasses,\n          attrs: {\n            id: this.modalHeaderId\n          },\n          ref: 'header'\n        }, [$modalHeader]);\n      } // Modal body\n\n\n      var $body = h('div', {\n        staticClass: 'modal-body',\n        class: this.bodyClasses,\n        attrs: {\n          id: this.modalBodyId\n        },\n        ref: 'body'\n      }, this.normalizeSlot(SLOT_NAME_DEFAULT, this.slotScope)); // Modal footer\n\n      var $footer = h();\n\n      if (!this.hideFooter) {\n        // TODO: Rename slot to `footer` and deprecate `modal-footer`\n        var $modalFooter = this.normalizeSlot(SLOT_NAME_MODAL_FOOTER, this.slotScope);\n\n        if (!$modalFooter) {\n          var $cancelButton = h();\n\n          if (!this.okOnly) {\n            $cancelButton = h(BButton, {\n              props: {\n                variant: this.cancelVariant,\n                size: this.buttonSize,\n                disabled: this.cancelDisabled || this.busy || this.isTransitioning\n              },\n              // TODO: Rename slot to `cancel-button` and deprecate `modal-cancel`\n              domProps: this.hasNormalizedSlot(SLOT_NAME_MODAL_CANCEL) ? {} : htmlOrText(this.cancelTitleHtml, this.cancelTitle),\n              on: {\n                click: this.onCancel\n              },\n              ref: 'cancel-button'\n            }, // TODO: Rename slot to `cancel-button` and deprecate `modal-cancel`\n            this.normalizeSlot(SLOT_NAME_MODAL_CANCEL));\n          }\n\n          var $okButton = h(BButton, {\n            props: {\n              variant: this.okVariant,\n              size: this.buttonSize,\n              disabled: this.okDisabled || this.busy || this.isTransitioning\n            },\n            // TODO: Rename slot to `ok-button` and deprecate `modal-ok`\n            domProps: this.hasNormalizedSlot(SLOT_NAME_MODAL_OK) ? {} : htmlOrText(this.okTitleHtml, this.okTitle),\n            on: {\n              click: this.onOk\n            },\n            ref: 'ok-button'\n          }, // TODO: Rename slot to `ok-button` and deprecate `modal-ok`\n          this.normalizeSlot(SLOT_NAME_MODAL_OK));\n          $modalFooter = [$cancelButton, $okButton];\n        }\n\n        $footer = h(this.footerTag, {\n          staticClass: 'modal-footer',\n          class: this.footerClasses,\n          attrs: {\n            id: this.modalFooterId\n          },\n          ref: 'footer'\n        }, [$modalFooter]);\n      } // Assemble modal content\n\n\n      var $modalContent = h('div', {\n        staticClass: 'modal-content',\n        class: this.contentClass,\n        attrs: {\n          id: this.modalContentId,\n          tabindex: '-1'\n        },\n        ref: 'content'\n      }, [$header, $body, $footer]); // Tab traps to prevent page from scrolling to next element in\n      // tab index during enforce-focus tab cycle\n\n      var $tabTrapTop = h();\n      var $tabTrapBottom = h();\n\n      if (this.isVisible && !this.noEnforceFocus) {\n        $tabTrapTop = h('span', {\n          attrs: {\n            tabindex: '0'\n          },\n          ref: 'top-trap'\n        });\n        $tabTrapBottom = h('span', {\n          attrs: {\n            tabindex: '0'\n          },\n          ref: 'bottom-trap'\n        });\n      } // Modal dialog wrapper\n\n\n      var $modalDialog = h('div', {\n        staticClass: 'modal-dialog',\n        class: this.dialogClasses,\n        on: {\n          mousedown: this.onDialogMousedown\n        },\n        ref: 'dialog'\n      }, [$tabTrapTop, $modalContent, $tabTrapBottom]); // Modal\n\n      var $modal = h('div', {\n        staticClass: 'modal',\n        class: this.modalClasses,\n        style: this.modalStyles,\n        attrs: this.computedModalAttrs,\n        on: {\n          keydown: this.onEsc,\n          click: this.onClickOut\n        },\n        directives: [{\n          name: 'show',\n          value: this.isVisible\n        }],\n        ref: 'modal'\n      }, [$modalDialog]); // Wrap modal in transition\n      // Sadly, we can't use `BVTransition` here due to the differences in\n      // transition durations for `.modal` and `.modal-dialog`\n      // At least until https://github.com/vuejs/vue/issues/9986 is resolved\n\n      $modal = h('transition', {\n        props: {\n          enterClass: '',\n          enterToClass: '',\n          enterActiveClass: '',\n          leaveClass: '',\n          leaveActiveClass: '',\n          leaveToClass: ''\n        },\n        on: {\n          beforeEnter: this.onBeforeEnter,\n          enter: this.onEnter,\n          afterEnter: this.onAfterEnter,\n          beforeLeave: this.onBeforeLeave,\n          leave: this.onLeave,\n          afterLeave: this.onAfterLeave\n        }\n      }, [$modal]); // Modal backdrop\n\n      var $backdrop = h();\n\n      if (!this.hideBackdrop && this.isVisible) {\n        $backdrop = h('div', {\n          staticClass: 'modal-backdrop',\n          attrs: {\n            id: this.modalBackdropId\n          }\n        }, // TODO: Rename slot to `backdrop` and deprecate `modal-backdrop`\n        this.normalizeSlot(SLOT_NAME_MODAL_BACKDROP));\n      }\n\n      $backdrop = h(BVTransition, {\n        props: {\n          noFade: this.noFade\n        }\n      }, [$backdrop]); // Assemble modal and backdrop in an outer <div>\n\n      return h('div', {\n        style: this.modalOuterStyle,\n        attrs: this.computedAttrs,\n        key: \"modal-outer-\".concat(this[COMPONENT_UID_KEY])\n      }, [$modal, $backdrop]);\n    }\n  },\n  render: function render(h) {\n    if (this.static) {\n      return this.lazy && this.isHidden ? h() : this.makeModal(h);\n    } else {\n      return this.isHidden ? h() : h(BVTransporter, [this.makeModal(h)]);\n    }\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}